window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var p=n[r]={exports:{}};t[r][0].call(p.exports,function(e){return i(t[r][1][e]||e)},p,p.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Adaptive111000201:[function(e,t,n){"use strict";cc._RF.push(t,"6290bzMDGBJ9Y5twKF04vq7","Adaptive111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000201"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sc1=null,t.cs2=null,t.cz=null,t.logo=null,t.bg_di=null,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().raiseEvent(core.GameCoreConst.mess_openBanner,{parent:this.node.getChildByName("banner")}),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this),e.prototype.resize.call(this)},t.prototype.layoutLandscape=function(){this.sc1.active=!1,this.cs2.active=!1,this.cz.active=!1,this.bg_di.active=!1,this.logo.scale=1,this.logo.setPosition(0,445,0)},t.prototype.layoutPortrait=function(){this.sc1.active=!0,this.cs2.active=!0,this.cz.active=!0,this.bg_di.active=!0,this.cz.scale=2.2,this.logo.scale=1.2,this.logo.setPosition(0,460,0)},t.prototype.showChuanzhangAni=function(e,t){var n=this;t==r.WinType.fiveEven&&(this.playAni(),this.playSound());var o="idle01";switch(t){case r.WinType.SuperWin:case r.WinType.MargeWin:case r.WinType.BigWin:case r.WinType.win:o="idle02"}"idle01"!=o&&(this.cz.getComponent(sp.Skeleton).setAnimation(0,o,!1),this.cz.getComponent(sp.Skeleton).setCompleteListener(function(){n.cz.getComponent(sp.Skeleton).setAnimation(0,"idle01",!0)}))},t.prototype.playAni=function(){slot.SoundMger.instance.playEffect("winPrize")},t.prototype.playSound=function(){slot.SoundMger.instance.playEffect("Five_Prize"),console.log("\u64ad\u653e\u4e86\u4e94\u8fde\u97f3\u6548")},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this)},a([l(cc.Node)],t.prototype,"sc1",void 0),a([l(cc.Node)],t.prototype,"cs2",void 0),a([l(cc.Node)],t.prototype,"cz",void 0),a([l(cc.Node)],t.prototype,"logo",void 0),a([l(cc.Node)],t.prototype,"bg_di",void 0),a([c],t)}(slot.BaseView);n.default=p,cc._RF.pop()},{"../GameEventName111000201":"GameEventName111000201"}],Banner111000201:[function(e,t,n){"use strict";cc._RF.push(t,"1a837zDyN9NBqgDZ5NzIzU9","Banner111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./GameEventName111000201"),s=e("./roller/GameLayer111000201"),c=cc._decorator,l=c.ccclass,p=c.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeBanner=null,t}return i(t,e),t.prototype.setNodeBanner=function(e){this.p_nodeBanner.active=e},t.prototype.onLoad=function(){var t=this;e.prototype.onLoad.call(this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,function(){t.setNodeBanner(!0),s.default.instance.info_7.active=!1},this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_WIN_NUM,function(){t.setNodeBanner(!1),s.default.instance.info_7.active=!1},this)},t.prototype.onDestroy=function(){var t=this;e.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,function(){t.setNodeBanner(!0)},this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_WIN_NUM,function(){t.setNodeBanner(!1)},this)},a([p(cc.Node)],t.prototype,"p_nodeBanner",void 0),a([l],t)}(slot.SlotBanner);n.default=_,cc._RF.pop()},{"./GameEventName111000201":"GameEventName111000201","./roller/GameLayer111000201":"GameLayer111000201"}],BonusGame111000201:[function(e,t,n){"use strict";cc._RF.push(t,"b43dfAaZ+dLpaKBQ+Afd607","BonusGame111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../main/Main111000201"),s=e("../NumAtlasLabel111000201"),c=cc._decorator,l=c.ccclass,p=c.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_time=0,t.freeGameTimeLight=null,t.freeGameTime=null,t.StartButton=null,t.freeGameCount=null,t.WinScore=null,t.AllScore=null,t.BetScore=null,t.BtnLight=null,t.freeGameSp=null,t.Counts=null,t.callBack=null,t.score_winScore=0,t.score_allScore=0,t.score_betScore=0,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this.BtnLight.active=!1,this.StartButton.on(cc.Node.EventType.MOUSE_ENTER,function(){e.BtnLight.active=!0},this),this.StartButton.on(cc.Node.EventType.MOUSE_LEAVE,function(){e.BtnLight.active=!1},this)},t.prototype.init=function(){this.m_time=0,this.freeGameCount.string=""+this.Counts,this._updateTime(this.m_time),this.freeGameSp.setAnimation(0,"animation",!1)},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.Counts=t[0][0],this.callBack=t[0][1],this.score_winScore=t[0][4],this.score_betScore=slot.SpinManager.instance.betCost,this.score_allScore=slot.PlayerManager.instance.showCoin,cc.log("onOpen",this.score_allScore,this.score_betScore,this.score_winScore,typeof this.score_betScore,typeof this.score_allScore,typeof this.score_winScore),this.BetScore.string=slot.SlotUtils.formatNumber(this.score_betScore,2,100,!0),this.AllScore.string=slot.SlotUtils.formatNumber(this.score_allScore,2,100,!0),this.WinScore.string=slot.SlotUtils.formatNumber(this.score_winScore,2,100,!0),this.init()},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this)},t.prototype.update=function(){this.m_time+=1,this.m_time>400?this.clickStart():this.m_time>100?(this.StartButton.active=!0,this.freeGameTimeLight.active=!1,this.freeGameTime.node.active=!1):this._updateTime(this.m_time)},t.prototype._updateTime=function(e){this.freeGameTime.string=e.toString()},t.prototype.clickStart=function(){slot.SoundMger.instance.playEffect("Free_Start_Button",!1),game.UIManager.getInstance().closeByUIID(r.UIID.BONUS_GAME_POPUP),this.callBack&&this.callBack.run()},a([p(cc.Node)],t.prototype,"freeGameTimeLight",void 0),a([p(s.default)],t.prototype,"freeGameTime",void 0),a([p(cc.Node)],t.prototype,"StartButton",void 0),a([p(s.default)],t.prototype,"freeGameCount",void 0),a([p(cc.Label)],t.prototype,"WinScore",void 0),a([p(cc.Label)],t.prototype,"AllScore",void 0),a([p(cc.Label)],t.prototype,"BetScore",void 0),a([p(cc.Node)],t.prototype,"BtnLight",void 0),a([p(sp.Skeleton)],t.prototype,"freeGameSp",void 0),a([l],t)}(slot.AbstractBonusGameView);n.default=_,cc._RF.pop()},{"../NumAtlasLabel111000201":"NumAtlasLabel111000201","../main/Main111000201":"Main111000201"}],Cannon:[function(e,t,n){"use strict";cc._RF.push(t,"b8e22cy9mZJGLnGTzwLNW/t","Cannon");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeNumAn=null,t.p_nodeNumLiang=null,t.p_nodeLiang=null,t.p_nodeSprShanGuang=null,t.p_nodeFxAni=null,t.p_nodeUpShow=[],t.p_strFxAniName="",t.m_anCommonNumAtlas=null,t.m_liangCommonNumAtlas=null,t.m_isLiang=!1,t}return i(t,e),t.prototype.onLoad=function(){this.m_anCommonNumAtlas=this.p_nodeNumAn.getComponent("CommonNumAtlas111000201"),this.m_liangCommonNumAtlas=this.p_nodeNumLiang.getComponent("CommonNumAtlas111000201")},t.prototype.init=function(){this.p_nodeNumAn.active=!0,this.p_nodeNumLiang.active=!1,this.p_nodeSprShanGuang.active=!1,this.m_anCommonNumAtlas.string="",this.m_liangCommonNumAtlas.string="",this.node.scale=1},t.prototype.setOnline=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),t?(this.p_nodeLiang.active=e,this.node.scale=e?1.1:1):this.playAction(e,n)},t.prototype.setArrCannonUp=function(e){for(var t=function(t){var o=n.p_nodeUpShow[t];o.active=e,e?(o.active=!0,o.opacity=0,cc.tween(o).to(.3,{opacity:255}).start()):(o.opacity=255,cc.tween(o).to(.3,{opacity:0}).call(function(){o.opacity=255,o.active=!1}).start())},n=this,o=0;o<this.p_nodeUpShow.length;o++)t(o)},t.prototype.playCannonUp=function(e){var t=this;this.setCommonNum(e),1==this.p_nodeLiang.active?cc.tween(this.node).to(.2,{scale:1.2}).call(function(){cc.tween(t.node).to(.2,{scale:1.1}).call(function(){t.setArrCannonUp(!1)}).start()}).start():(this.p_nodeLiang.active=!0,cc.tween(this.node).to(.3,{scale:1.2}).call(function(){cc.tween(t.node).to(.3,{scale:1}).call(function(){t.setArrCannonUp(!1)}).start()}).start(),cc.tween(this.p_nodeLiang).delay(.3).to(1,{opacity:0}).call(function(){t.p_nodeLiang.opacity=255,t.p_nodeLiang.active=!1}).start())},t.prototype.playAction=function(e,t){var n=this;void 0===t&&(t=!1),1==e?(1==this.m_isLiang&&1==t?this._playUpAni():0==this.m_isLiang&&1==t?cc.tween(this).delay(.5).call(function(){n.p_nodeLiang.active=!0,n.playLight()}).start():(this.p_nodeLiang.active=!0,this.playLight()),this.m_isLiang=!0):this.playDark(t)},t.prototype.playLight=function(){var e=this;this.p_nodeSprShanGuang.active=!0,this.p_nodeSprShanGuang.scale=.5,cc.tween(this.p_nodeSprShanGuang).to(.3,{scale:.8}).call(function(){e.p_nodeSprShanGuang.active=!1}).start();var t=cc.sequence(cc.scaleTo(.5,1.2,1.2),cc.callFunc(function(){e.p_nodeNumAn.active=!1,e.p_nodeLiang.active=!0}),cc.scaleTo(.1,1.1,1.1));this.node.runAction(t)},t.prototype._playUpAni=function(e){var t=this;this.p_nodeFxAni.active=!0,this.p_nodeFxAni.getComponent(sp.Skeleton).setAnimation(0,this.p_strFxAniName,!1),this.p_nodeFxAni.getComponent(sp.Skeleton).setCompleteListener(function(){t.p_nodeFxAni.active=!1,e&&e(),cc.tween(t.node).to(.2,{scale:1}).start()})},t.prototype.playDark=function(e){var t=this;e&&this.p_strFxAniName.length>0&&1==this.m_isLiang?this._playUpAni(function(){t.p_nodeNumAn.active=!0,t.p_nodeLiang.active=!1}):(this.p_nodeNumAn.active=!0,this.p_nodeLiang.active=!1,cc.tween(this.node).to(.2,{scale:1}).start()),this.m_isLiang=!1},t.prototype.setCommonNum=function(e){this.m_anCommonNumAtlas.string="x"+e,this.m_liangCommonNumAtlas.string="x"+e},t.prototype.start=function(){},a([c(cc.Node)],t.prototype,"p_nodeNumAn",void 0),a([c(cc.Node)],t.prototype,"p_nodeNumLiang",void 0),a([c(cc.Node)],t.prototype,"p_nodeLiang",void 0),a([c(cc.Node)],t.prototype,"p_nodeSprShanGuang",void 0),a([c(cc.Node)],t.prototype,"p_nodeFxAni",void 0),a([c({type:[cc.Node]})],t.prototype,"p_nodeUpShow",void 0),a([c(cc.String)],t.prototype,"p_strFxAniName",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],CommonNumAtlas111000201:[function(e,t,n){"use strict";cc._RF.push(t,"4b4eeau0QVJ0qVL2hHp+KpY","CommonNumAtlas111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},a([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],FreeGameResult:[function(e,t,n){"use strict";cc._RF.push(t,"d6e6cadh2pDRrrh49UHplWd","FreeGameResult");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000201"),s=e("../main/CommonNumAtlas111000201"),c=e("../NumAtlasLabel111000201"),l=e("../main/Main111000201"),p=cc._decorator,_=p.ccclass,h=p.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeSecond=null,t.p_nodeMoney=null,t.p_btnDraw=null,t.btn_light=null,t.p_nodeAniBoom=null,t.p_nodeAniBg=null,t.p_nodeNum=null,t.p_nodeAniBtn=null,t.freeGame_bgFXBack=null,t.freeGame_bgFXFont=null,t.m_isUpdate=!1,t.callBack=null,t.m_sumSpinCoin=0,t.m_sumTimes=0,t.m_closeTimes=0,t.isOver=!1,t.m_money=1e3,t.m_speed=3,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this.p_btnDraw.node.on("click",function(){e.onClose(),game.UIManager.getInstance().closeByUIID(l.UIID.FREE_GAME_RESULT),e.callBack&&e.callBack.run()}),this.p_btnDraw.node.on(cc.Node.EventType.MOUSE_ENTER,function(){e.btn_light.active=!0},this),this.p_btnDraw.node.on(cc.Node.EventType.MOUSE_LEAVE,function(){e.btn_light.active=!1},this)},t.prototype.start=function(){},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];slot.SoundMger.instance.playEffect("Settlement_sound",!0),this.init();var o=t[0];this.callBack=o[0],this.m_sumSpinCoin=Number(o[1]),this.m_sumTimes=o[2],this._setLabSecond(this.m_sumTimes),this._playLabMoney(),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Free_Game_Settlement),cc.tween(this.p_nodeNum).to(.5,{y:50,scale:1,opacity:255}).start(),this.freeGame_bgFXBack.setAnimation(0,"back",!1),this.freeGame_bgFXFont.setAnimation(0,"font",!1),this.isOver=!1},t.prototype.init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.p_btnDraw.node.active=!1,this.btn_light.active=!1,this.p_btnDraw.node.scale=1,this.m_isUpdate=!1,this.p_nodeNum.opacity=0,this.p_nodeNum.scale=.5,this.p_nodeNum.x=0,this.p_nodeNum.y=-260,this.p_nodeAniBtn.active=!1},t.prototype.onClickEndBtn=function(){this.m_money=this.m_sumSpinCoin},t.prototype.onClose=function(){this.isOver=!0,slot.SoundMger.instance.playMusic(slot.SOUND_NAME.Game_Back_Music)},t.prototype._playLabMoney=function(){this._setLabMoney(0),this.m_isUpdate=!0,this.m_money=0,this.m_speed=Math.ceil(this.m_sumSpinCoin/300)},t.prototype._setLabSecond=function(e){this.p_nodeSecond.getComponent(s.default).string=e.toString()},t.prototype._setLabMoney=function(e){this.p_nodeMoney.getComponent(c.default).string=slot.SlotUtils.formatNumber(e)},t.prototype._playBtnDraw=function(){var e=this,t=this;slot.SoundMger.instance.stopEffect(r.SOUND_NAME.Free_Game_Settlement),slot.SoundMger.instance.stopEffect("Settlement_sound"),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Free_Game_Settlement_End),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_PLAY_WIN_NUM,this.m_money,this.m_money),this.p_btnDraw.node.active=!0,this.p_btnDraw.node.scale=.3,cc.tween(this.p_btnDraw.node).to(.2,{scale:1.2}).start(),cc.tween(this).delay(.2).call(function(){e.p_nodeAniBtn.active=!0,cc.tween(e.p_btnDraw.node).to(.1,{scale:1}).start()}).delay(5).call(function(){0==e.isOver&&(t.onClose(),game.UIManager.getInstance().closeByUIID(l.UIID.FREE_GAME_RESULT),t.callBack&&t.callBack.run())}).start()},t.prototype.update=function(){this.m_isUpdate&&(this.m_money<this.m_sumSpinCoin?(this.m_money+=this.m_speed,this._setLabMoney(this.m_money)):this.m_money>=this.m_sumSpinCoin&&(slot.SoundMger.instance.stopEffect("Settlement_sound"),this.m_isUpdate=!1,this.m_money+=this.m_speed,this.m_money=this.m_sumSpinCoin,this._setLabMoney(this.m_money),this._playBtnDraw()))},a([h(cc.Node)],t.prototype,"p_nodeSecond",void 0),a([h(cc.Node)],t.prototype,"p_nodeMoney",void 0),a([h(cc.Button)],t.prototype,"p_btnDraw",void 0),a([h(cc.Node)],t.prototype,"btn_light",void 0),a([h(cc.Node)],t.prototype,"p_nodeAniBoom",void 0),a([h(cc.Node)],t.prototype,"p_nodeAniBg",void 0),a([h(cc.Node)],t.prototype,"p_nodeNum",void 0),a([h(cc.Node)],t.prototype,"p_nodeAniBtn",void 0),a([h(sp.Skeleton)],t.prototype,"freeGame_bgFXBack",void 0),a([h(sp.Skeleton)],t.prototype,"freeGame_bgFXFont",void 0),a([_],t)}(game.UIView);n.default=u,cc._RF.pop()},{"../GameEventName111000201":"GameEventName111000201","../NumAtlasLabel111000201":"NumAtlasLabel111000201","../main/CommonNumAtlas111000201":"CommonNumAtlas111000201","../main/Main111000201":"Main111000201"}],GameBg111000201:[function(e,t,n){"use strict";cc._RF.push(t,"597fcE2jUVAnZlW9rkQGMfA","GameBg111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000201"),s=e("../roller/GameLayer111000201"),c=cc._decorator,l=c.ccclass,p=c.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeFree=null,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this)},t.prototype._onFreeGameStart=function(){s.default.instance._onFreeGameStart1(!0)},t.prototype._onFreeGameOver=function(){s.default.instance._onFreeGameStart1(!1)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this)},a([p(cc.Node)],t.prototype,"p_nodeFree",void 0),a([l],t)}(slot.BaseView);n.default=_,cc._RF.pop()},{"../GameEventName111000201":"GameEventName111000201","../roller/GameLayer111000201":"GameLayer111000201"}],GameEventName111000201:[function(e,t,n){"use strict";cc._RF.push(t,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111000201"),Object.defineProperty(n,"__esModule",{value:!0}),n.SOUND_NAME=n.RoleAniType=n.WinType=n.EventName=void 0,function(e){e.EVENT_WIN_GAME="EVENT_WIN_GAME",e.EVENT_UPDATE_MULTIPLE="EVENT_UPDATE_MULTIPLE",e.EVENT_UPDATE_MULTIPLE_NUM="EVENT_UPDATE_MULTIPLE_NUM",e.EVENT_CONTINUE_REWARD="EVENT_CONTINUE_REWARD",e.EVENT_CONTINUE_REWARD_END="EVENT_CONTINUE_REWARD_END",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.EVENT_FREE_GAME_NUM="EVENT_FREE_GAME_NUM",e.EVENT_PLAY_WIN_NUM="EVENT_PLAY_WIN_NUM",e.EVENT_PLAY_WIN_NUM1="EVENT_PLAY_WIN_NUM1",e.EVENT_STOP_WIN_NUM="EVENT_STOP_WIN_NUM",e.EVENT_PLAY_ROLE_ANI="EVENT_PLAY_ROLE_ANI",e.EVENT_PLAY_SCORE_ANI="EVENT_PLAY_SCORE_ANI",e.EVENT_PLAY_DOWN_ANI="EVENT_PLAY_DOWN_ANI",e.EVENT_BETNUM_ANI="EVENT_BETNUM_ANI",e.EVENT_WIN_ANI="EVENT_WIN_ANI",e.EVENT_WIN_SCORE_ANI="EVENT_WIN_SCORE_ANI",e.EVENT_BETNUM_ANI_AFTER="EVENT_BETNUM_ANI_AFTER",e.EVENT_RESET_SC_BG="EVENT_RESET_SC_BG",e.EVENT_SCROLL_FOR_FREE="EVENT_SCROLL_FOR_FREE",e.EVENT_START_FRAME_ANI="EVENT_START_FRAME_ANI"}(n.EventName||(n.EventName={})),function(e){e.SuperWin="SuperWin",e.MargeWin="MargeWin",e.BigWin="BigWin",e.Lose="Lose",e.win="win",e.fiveEven="fiveEven",e.wild="wild"}(n.WinType||(n.WinType={})),function(e){e[e.Random=1]="Random",e[e.Multiplier=2]="Multiplier",e[e.WinMedium=3]="WinMedium",e[e.WinSmall=4]="WinSmall",e[e.FastSpinIdle=5]="FastSpinIdle"}(n.RoleAniType||(n.RoleAniType={})),function(e){e.Scatter_Expectation="Scatter_Expectation",e.FreeGame_Back_Music="FreeGame_Back_Music",e.Free_Game_Settlement="Free_Game_Settlement",e.Free_Game_Settlement_End="Free_Game_Settlement_End",e.Slider_Effect="Slider_Effect",e.Textbox_01="Textbox_01",e.Textbox_02="Textbox_02",e.Textbox_03="Textbox_03",e.Multiplier_Increase_Character_011="Multiplier_Increase_Character_011",e.Multiplier_Increase_Character_010="Multiplier_Increase_Character_010",e.Multiplier_Increase_Character_02="Multiplier_Increase_Character_02",e.Multiplier_Increase_Character_03="Multiplier_Increase_Character_03",e.Multiplier_Increase_01="Multiplier_Increase_01",e.Multiplier_Increase_02="Multiplier_Increase_02",e.Multiplier_Increase_03="Multiplier_Increase_03",e.Multiplier_Reset="Multiplier_Reset",e.Multiplier_Switch="Multiplier_Switch",e.Fs_Character="Fs_Character",e.Count_Down="Count_Down",e.Chosen_Stay="Chosen_Stay",e.Chosen_Tip="Chosen_Tip",e.Chosen="Chosen",e.Fs_Enter="Fs_Enter",e.Fs_Multiplier_Change="Fs_Multiplier_Change",e.Line_Prize="Line_Prize",e.Reel_Scrolling="Reel_Scrolling",e.Reel_Scrolling_End="Reel_Scrolling_End",e.Prize_Big="Prize_Big",e.Prize_End="Prize_End"}(n.SOUND_NAME||(n.SOUND_NAME={})),cc._RF.pop()},{}],GameLayer111000201:[function(e,t,n){"use strict";cc._RF.push(t,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../bonusGame/BonusGame111000201"),s=e("../freeGameResult/FreeGameResult"),c=e("../GameEventName111000201"),l=e("../main/CommonNumAtlas111000201"),p=e("../main/Main111000201"),_=e("./scrollerSkins/JTChildManager111000201"),h=e("./scrollerSkins/JTLayerManager111000201"),u=e("../roller/ItemAni111000201"),m=e("../roller/ScrollerBack111000201"),d=e("../NumAtlasLabel111000201"),f=e("./scrollerSkins/GameLogic111000201"),g=e("../graphicsLine/WinGraphicsLine"),y=cc._decorator,v=y.ccclass,E=y.property,N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.roller=null,t.beishuNode=null,t.bns_footer=null,t.ui_footer=null,t.free_ui_footer=null,t.free_times_num=null,t.free_time_node=null,t.free_lastTime_tip=null,t.moveItemPre=null,t.bgFX_topItems=null,t.infoBar_light=null,t.infoBar_upLoop=null,t.infoBar_bgElements=null,t.infoBar_spine=null,t.freeGameAdd=null,t.freeGameAddNumber=null,t.bigWin=null,t.winc_numStopRunFX=null,t.ib_bars=null,t.ib_bar_a=null,t.ib_bar_b=null,t.ib_bar_c=null,t.betBg=null,t.betBgAni=null,t.info_7=null,t.WinScore=null,t.graphicsLineLayer=null,t.flyMulitBetAniLayer=null,t.isBetAni=!1,t._rondem=[2,4,5],t._gameData=null,t._column=0,t._FreeTimes=0,t.score_winScore=0,t.score_allScore=0,t.score_betScore=0,t.isShowBetAni=!1,t.lightCount_a=0,t.lightCount_b=0,t.lightCount_c=0,t.isEnoughMoney=!0,t.m_arrCannonNum={5:[6,12,18,40],10:[3,6,9,20],20:[1,2,3,5]},t.m_isChufaFree=!1,t.scatterTask=null,t.wildTask=null,t.scroller=null,t.m_isRunning=!1,t.removeIndex=0,t.playPrizeAniResult=null,t.count=-1,t.isAddBigWinCoin=!0,t._spinAniViews=[],t.bounsGamePrefab=null,t.bounsGamePrefabNode=null,t.freeGameResultPrefab=null,t.freeGameResultNode=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){var t=this;n.instance=this,slot.SlotConfigManager.instance.registerJPTypes(3),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.restorWild,this,100),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.showElement,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.hideElement,this),game.EventManager.getInstance().addEventListener(c.EventName.EVENT_BETNUM_ANI,this.showBetAni,this),game.EventManager.getInstance().addEventListener(c.EventName.EVENT_WIN_ANI,this.showWinAni,this),game.EventManager.getInstance().addEventListener(c.EventName.EVENT_WIN_SCORE_ANI,this.showWinScoreAni,this),game.EventManager.getInstance().addEventListener(c.EventName.EVENT_RESET_SC_BG,this.resetSCBg,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateScore,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.MONEY_NOT_ENOUGH_BREAK,this.noEnoughtMoney,this),game.ResLoader.getInstance().loadRes("prefabs/slotMachine/multipleNode",cc.Prefab,function(e,n){e?console.log("\u52a0\u8f7d\u500d\u6570\u5931\u8d25"):t.multiplePrefab=n},slot.GData.bundleName),game.ResLoader.getInstance().loadRes("prefabs/slotMachine/starLight",cc.Prefab,function(e,n){e?console.log("\u52a0\u8f7d\u661f\u661f\u62d6\u5c3e\u5931\u8d25"):t.starLight=n},slot.GData.bundleName),game.ResLoader.getInstance().loadRes("prefabs/slotMachine/itemBG",cc.Prefab,function(e,n){e?console.log("\u52a0\u8f7d\u661f\u661f\u62d6\u5c3e\u5931\u8d25"):t.itemBG=n},slot.GData.bundleName),e.prototype.onLoad.call(this),console.log("game111000201 onload")},t.prototype.onDestroy=function(){this.dispose(),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this.restorWild,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.showElement,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.hideElement,this),game.EventManager.getInstance().removeEventListener(c.EventName.EVENT_BETNUM_ANI,this.showBetAni,this),game.EventManager.getInstance().removeEventListener(c.EventName.EVENT_WIN_ANI,this.showWinAni,this),game.EventManager.getInstance().removeEventListener(c.EventName.EVENT_WIN_SCORE_ANI,this.showWinScoreAni,this),game.EventManager.getInstance().removeEventListener(c.EventName.EVENT_RESET_SC_BG,this.resetSCBg,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateScore,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.MONEY_NOT_ENOUGH_BREAK,this.noEnoughtMoney,this)},t.prototype.start=function(){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_UPDATE_MULTIPLE_NUM,this.m_arrCannonNum[20]),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_UPDATE_MULTIPLE,[1,0,0,0],!0)},t.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),slot.SpinManager.customResultCallBack=function(){return slot.SpinManager.instance.customUpdateData.game_10017.data.resultList},this.infoBar_spine.active=!1},t.prototype.onInitScroller=function(e){var t=this,n=this.scroller=e.scroller,o=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);n.setupFactory(new h.default,new _.default,new f.default),slot.JTDefaultItemRender.setPlayCoinIndex(2,7);var i=n.options(slot.JTEliminatePipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,o.column,e.scrollingComplete);i.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),i.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),i.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),i.childOption(slot.JTOverScrollEliminate,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress),n.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1),slot.JTDefaultItemRender.setPlayCoinIndex(1,7),slot.EliminateEffectUtils.elePlayAni=slot.Handler.create(this,this.playPrizeAni,[],!1),this.scatterTask=new slot.JTScatterTask,this.scatterTask.config(11,2,"12-16-1",2e3,1e3,"animations/cardAni/iconRunFX",!0,null,function(e){game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_STOP_WIN_NUM),t.info_7.active=!0,slot.SoundMger.instance.playEffect("Symbol_Drop",!1),cc.Tween.stopAllByTarget(t.info_7),cc.tween(t.info_7).repeatForever(cc.tween().to(.5,{scale:1.5}).to(.5,{scale:1})).start(),console.log("\u52a0\u901f\u6eda\u8f74"),t.m_isRunning=!0,slot.SoundMger.instance.playEffect("Reel_Quick1",!1),e.skinLoader.aniName="animation",e.skinLoader.getChildByName("Animation").getComponent(cc.Sprite).dstBlendFactor=cc.macro.BlendFactor.ONE,e.skinLoader.y=-380,e.skinLoader.x=e.x+60,e.skinLoader.scaleX=1,e.skinLoader.scaleY=1}),n.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this.scatterTask,new slot.JTTaskContainer)},t.prototype.playPrizeAni=function(e,t,n,o){if(e.length>0){var i=[];e.forEach(function(e){i.push(e.index)}),g.default.instance.initData(i)}this.playPrizeAniResult=o,this.removeIndex++,this.playGoldAni(e,t,n,o),slot.SoundMger.instance.playEffect("Winning_sound_effects_02",!1)},t.prototype.onScatterComplte=function(){console.log("onScatterComplte")},t.prototype.playGoldAni=function(e,t,n,o){this.slotMachine.scroller.updateChangedChildsLayer(e,!0),this.slotMachine.scroller.blackBackGround.active=!0,this.changeItemAni(e,t,n,o)},t.prototype.changeItemAni=function(e,t,n,o){var i=this;this.info_7.active=!1;for(var a=0;a<e.length;a++){var r=e[a];r._showFrameAniView(slot.SlotMachineView.instance,r.index)}cc.tween(this).delay(.9).call(function(){for(var t=0;t<e.length;t++)e[t].skinLoader.url=null}).start();var s=slot.SpinManager.instance.customUpdateData.game_10017.data.resultList;game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_DOWN_ANI,{resultList:s,isLast:n,isShowLine:!0}),cc.tween(this).delay(.5).call(function(){i.elePlayAni(e,t,n,o)}).start(),cc.tween(this).delay(1).call(function(){g.default.instance.clearGraphics(),t.run()}).start(),this.count++;var l=Number(o.curSpinCoin);console.warn("---changeItemAni---------",Number(o.curSpinCoin),">>>>",Number(o.totalSpinCoin)),this.count==slot.SpinManager.instance.customUpdateData.game_10017.data.resultList.length-2?game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM,l,Number(o.totalSpinCoin)):this.count<slot.SpinManager.instance.customUpdateData.game_10017.data.resultList.length-2&&game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM,l)},t.prototype.removeCardAnim=function(){},t.prototype.elePlayAni=function(e,t,n){var o=slot.SpinManager.instance.customUpdateData.game_10017.data.resultList;game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_DOWN_ANI,{resultList:o,isLast:n}),console.log("removeIndex:",this.removeIndex),n&&(this.removeIndex=0),cc.tween(this.ui_footer).delay(1).to(.1,{scaleY:1.1}).to(.1,{scaleY:.9}).to(.1,{scaleY:1.05}).to(.1,{scaleY:.95}).to(.1,{scaleY:1}).start()},t.prototype.resetSCBg=function(){this.slotMachine.scroller.blackBackGround.active&&(this.slotMachine.scroller.resetLayerSort(),this.slotMachine.scroller.blackBackGround.active=!1)},t.prototype.updateScore=function(e,t,n,o,i,a,r){void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===a&&(a=null),void 0===r&&(r=!1),console.log("GameLayerUpdateScore",t,slot.SpinManager.instance.betCost,slot.PlayerManager.instance.showCoin),this.score_winScore=t,this.score_betScore=slot.SpinManager.instance.betCost,this.score_allScore=slot.PlayerManager.instance.showCoin},t.prototype.noEnoughtMoney=function(){},t.prototype._initSlotMachineView=function(){slot.EliminateEffectUtils.setup(1500,.12,.08,.1,.8,.1,slot.EliminateDisappearUtils.disappearTime,slot.EliminateDisappearUtils.disappreaDelayTime),this.slotMachine.spaceX=0,this.slotMachine.spaceY=0,this.slotMachine.gridWidth=120,this.slotMachine.gridHeight=126,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation(),this.setTopAni(!0)},t.prototype._rederAfter=function(){slot.SpinManager.instance.spinTouchEnable=!0,this.palyStartAnim(0)},t.prototype.palyStartAnim=function(){for(var e=slot.SlotMachineView._instance.scroller.renders.length,t=0;t<e;t++){var n=slot.SlotMachineView._instance.scroller.renders[t].data,o=slot.SlotMachineView._instance.scroller.renders[t];11==n?(o._recoverSlotFrameAniViewSpin3(),o._showFrameAniViewSpin3(),o.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle")):n>=12&&(o.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle"),this.showMultipleNode(n,o))}},t.prototype.setTopAni=function(e){this.bgFX_topItems.paused=e},t.prototype._onSpinStart=function(){for(var e=slot.SlotMachineView._instance.scroller.renders.length,t=0;t<e;t++)slot.SlotMachineView._instance.scroller.renders[t]._recoverSlotFrameAniViewSpin3();this.unschedule(this._clearSpinReelAni),this._clearSpinReelAni()},t.prototype._onSpinBegin=function(){this._gameData=null,this.playPrizeAniResult=null,game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_STOP_WIN_NUM),this.setTopAni(!1)},t.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete),this.slotMachine.onSpinBegin(this,this._onSpinBegin)},t.prototype._onSpinComplete=function(){this.info_7.active=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_START),this.count=-1,u.default.instance.removeLine(),u.default.instance.playBetsAnimation(this.slotMachine)},t.prototype.showMultipleNode=function(e,t){if(e>=12){t._recoverFrameViewNode(),t._recoverFrameViewNode4();var n=cc.instantiate(this.beishuNode),o=0;switch(e){case 12:o=2;break;case 13:o=3;break;case 14:o=4;break;case 15:o=5;break;case 16:o=6;break;case 17:o=7;break;case 18:o=8;break;case 19:o=12;break;case 20:o=13;break;case 21:o=15;break;case 22:o=17;break;case 23:o=20;break;case 24:o=22;break;case 25:o=24;break;case 26:o=25;break;case 27:o=29;break;case 28:o=30;break;case 29:o=34;break;case 30:o=37;break;case 31:o=40;break;case 32:o=42;break;case 33:o=48;break;case 34:o=50}console.log("\u83b7\u53d6\u661f\u661f\u4e0a\u5c42\u6570\u636e\u8282\u70b9",o),o>=10&&(n.scale=.7),n.getChildByName("multiple").getComponent(l.default).string="x"+o,t._showFrameViewNode(n)}},t.prototype._onSpinStop=function(e){for(var t=slot.SlotMachineView._instance.scroller.items[e],n=function(){var e=t.renders[i],n=e.data;11==n&&(e._showFrameAniViewSpin3(),slot.SoundMger.instance.playEffect("Sctter_01",!1));var a=e.skinLoader.skeletonNode.getComponent(sp.Skeleton);11==n||n>=12?(e.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle"),a.setCompleteListener(function(){a.setAnimation(0,"idle",!0),a.setCompleteListener(null)})):(e.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn"),a.setCompleteListener(function(){a.setAnimation(0,"spawn",!1),a.setCompleteListener(null)})),o.showMultipleNode(n,e)},o=this,i=0;i<t.renders.length;i++)n();this.m_isRunning&&(game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_ROLE_ANI,c.RoleAniType.Random),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_SCROLL_FOR_FREE,e)),this.m_isRunning=!1,this.setTopAni(!0)},t.prototype._onRollingResp=function(e,t){console.log("\u65cb\u8f6c\u7ed3\u679c\uff1a",t),slot.SoundMger.instance.playEffect("s_xuanzhuan",!1),this._gameData=t,this.info_7.active=!1,""!=this.betBg.getChildByName("multiple").getComponent(l.default).string&&(this.betBg.getChildByName("multiple").getComponent(l.default).string="",this.betBg.getComponents(cc.Animation)[1].play()),this.infoBar_light.setAnimation(0,"light_a2",!0),this.infoBar_bgElements.node.active=!1,this.infoBar_spine.active=!1,this.ib_bar_c.active=!1,this.ib_bar_b.active=!1,this.ib_bar_a.active=!0,this.infoBar_upLoop.active=!1},t.prototype.restorWild=function(e,t){var n=this;this.infoBar_upLoop.active=!1;var o=this;cc.tween(this).delay(1.25).call(function(){o.score_winScore&&(console.log("\u65ad\u7ebf\u91cd\u8fde=====",t,n.score_winScore),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM1,o.score_winScore,o.score_winScore))}).start(),t.state.freeData&&game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_START,t.state.freeData.times)},t.prototype.showElement=function(){console.log("showElement"),m.default.instance.showBack()},t.prototype.hideElement=function(){console.log("hideElement"),m.default.instance.hideBack()},t.prototype.showBetAni=function(e,t){var n=this;if(t<=0){if(this.jt_winAniBefore)return this.jt_winAniBefore.complete(),void(this.jt_winAniBefore=null)}else this.isBetAni=!0,this.betBgAni.node.active=!0,this.betBgAni.clearTrack(0),this.betBgAni.setAnimation(0,"animation",!1),this.betBg.getChildByName("multiple").active=!0,this.betBg.getChildByName("multiple").getComponent(l.default).string="x"+t,this.betBg.getComponents(cc.Animation)[0].play(),slot.SoundMger.instance.playEffect("Multiples_Icon",!1),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_WIN_NUM1,this._gameData.spinResult.spinCoin,this._gameData.spinResult.spinCoin),setTimeout(function(){n.jt_winAniBefore&&(n.jt_winAniBefore.complete(),n.jt_winAniBefore=null)},1e3)},t.prototype.onScrollerFlowComplete=function(){this._gameData=null},t.prototype.showWinAni=function(e,t){if(this._gameData)if(0==this._gameData.spinResult.spinCoin)t.jt.complete();else{for(var n=!1,o=0;o<this._gameData.spinResult.gridChanged.length;o++)this._gameData.spinResult.gridChanged[o]>=12&&(n=!0);n?this.jt_winAniBefore=t.jt:t.jt.complete()}else t.jt.complete()},t.prototype.showIbBarAni=function(){var e=this;cc.tween(this.ib_bars).call(function(){e.WinScore}).to(.1,{scale:1.05}).to(.2,{scale:1}).start()},t.prototype.showLightAni=function(e){var t=this;this.ib_bar_c.active=!1,this.ib_bar_b.active=!1,this.ib_bar_a.active=!1,this.infoBar_upLoop.active=!1;var n=slot.SpinManager.instance.betCost;if(e/n>20){t.lightCount_c=0;var o=this.infoBar_light.setAnimation(0,"light_c",!0);this.ib_bar_c.active=!0,this.infoBar_upLoop.active=!0,o&&this.infoBar_light.setCompleteListener(function(e){var n=e.animation?e.animation.name:"";"light_c"==n&&t.lightCount_c>3?(t.infoBar_upLoop.active=!1,t.infoBar_light.setAnimation(0,"light_a2",!0),t.lightCount_c=0):"light_c"==n&&(t.infoBar_upLoop.active=!0,t.lightCount_c=t.lightCount_c+1)}),this.infoBar_bgElements.node.active=!0,this.infoBar_bgElements.clearTrack(0),this.infoBar_bgElements.setAnimation(0,"bgElements_b",!0),this.infoBar_spine.active=!1}else e/n>5?(t.lightCount_b=0,o=this.infoBar_light.setAnimation(0,"light_b",!0),this.ib_bar_b.active=!0,this.infoBar_upLoop.active=!0,o&&this.infoBar_light.setCompleteListener(function(e){var n=e.animation?e.animation.name:"";"light_b"==n&&t.lightCount_b>3?(t.infoBar_upLoop.active=!1,t.infoBar_light.setAnimation(0,"light_a2",!0),t.lightCount_b=0):"light_b"==n&&(t.infoBar_upLoop.active=!0,t.lightCount_b=t.lightCount_b+1)}),this.infoBar_bgElements.node.active=!0,this.infoBar_bgElements.clearTrack(0),this.infoBar_bgElements.setAnimation(0,"bgElements_a",!0),this.infoBar_spine.active=!1):(t.lightCount_a=0,o=this.infoBar_light.setAnimation(0,"light_a",!0),this.ib_bar_a.active=!0,this.infoBar_upLoop.active=!0,o&&this.infoBar_light.setCompleteListener(function(e){var n=e.animation?e.animation.name:"";"light_a"==n&&t.lightCount_a>3?(t.infoBar_upLoop.active=!1,t.infoBar_light.setAnimation(0,"light_a2",!0),t.lightCount_a=0):"light_a"==n&&(t.infoBar_upLoop.active=!0,t.lightCount_a=t.lightCount_a+1)}),this.infoBar_bgElements.node.active=!1,this.infoBar_spine.active=!1)},t.prototype.showWinScoreAni=function(e,t,n){var o=this;this.WinScore.node.active=!0,this.WinScore.string=t.owrNumString;var i=t.allWin;this.showLightAni(i),cc.tween(this.WinScore.node).to(.2,{scale:2}).delay(.4).to(.4,{x:0,y:-290}).call(function(){o.showIbBarAni()}).to(.2,{scale:3,opacity:125}).to(.1,{opacity:0}).call(function(){o.WinScore.node.y=200,o.WinScore.node.scale=1,o.WinScore.node.opacity=255,o.WinScore.node.active=!1,n&&n()}).start()},t.prototype._clearSpinReelAni=function(){},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype._playNormalRewardsAnimation=function(e,t){this.info_7.active=!1,u.default.instance.playCount=0,console.log("winCoin====>",e),this.showWinAniView(slot.WinAniType.Normal,e,t,!0,!0,1,!1),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_WIN_GAME,c.WinType.win)},t.prototype._playFullLineAnimation=function(e,t){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_WIN_GAME,c.WinType.fiveEven),t.run()},t.prototype._playGreatRewardsAnimation=function(e,t){this.info_7.active=!1,u.default.instance.playCount=0;var n=slot.Handler.create(this,function(){setTimeout(function(){t.run()},.2)});this.showWinAniView(slot.WinAniType.Great,e,n,!0,!0,1,!1)},t.prototype._playMiddleRewardsAnimation=function(e,t){this.info_7.active=!1,u.default.instance.playCount=0;var n=slot.Handler.create(this,function(){t.run()});this.showWinAniView(slot.WinAniType.Middle,e,n,!0,!0,1,!1)},t.prototype._playSmallRewardsAnimation=function(e,t){this.info_7.active=!1,u.default.instance.playCount=0;var n=slot.Handler.create(this,function(){t.run()});this.showWinAniView(slot.WinAniType.Small,e,n,!0,!0,1,!1)},t.prototype._onSpinSlotRender=function(e){console.log("\u5f53\u524d\u6b63\u5728\u6e32\u67d3\u7684\u683c\u5b50\u7684\u7d22\u5f15:",e)},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this)},t.prototype.onInitFreeGame=function(e,t){switch(console.log("oniniffreegame",e),e.type){case slot.OperationState.Free:slot.SoundMger.instance.playMusic(c.SOUND_NAME.FreeGame_Back_Music);break;case slot.OperationState.ReSpin:}t.runWith(!0)},t.prototype.addFreeSpinsAni=function(e,t,n){var o=this;slot.SoundMger.instance.playEffect("Get_Three_Together",!1),u.default.instance.playCount=0,this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_START_FRAME_ANI),game.UIManager.getInstance().open(p.UIID.BONUS_GAME_POPUP,[t.times,n,o.score_allScore,o.score_betScore,0]),slot.SoundMger.instance.playMusic("FreeGame_Back_Music"),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_WINSCORE,0)},1)},t.prototype.onFreeGameTriggered=function(e,t){switch(console.log("onFreeGameTriggered",e),e.type){case slot.OperationState.Free:game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_START,e.sumTimes),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_UPDATE_MULTIPLE_NUM,this.m_arrCannonNum[e.sumTimes],!0),this.m_isChufaFree=!0;break;case slot.OperationState.ReSpin:}t.runWith(!0)},t.prototype.onFreeGameInfoUpdated=function(e){switch(console.log("onFreeGameInfoUpdated",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.onFreeGameOver=function(e,t){var n=this;switch(console.log("onFreeGameOver",e),e.type){case slot.OperationState.Free:var o=slot.Handler.create(this,function(){game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_OVER),n.m_isChufaFree=!1,game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_UPDATE_MULTIPLE_NUM,n.m_arrCannonNum[20]),t.runWith(!0)});game.UIManager.getInstance().open(p.UIID.FREE_GAME_RESULT,[o,e.sumSpinCoin,e.sumTimes]);break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTriggerAgain=function(e,t){switch(console.log("onFreeGameTriggerAgain",e),e.type){case slot.OperationState.Free:console.log("onFreeGameTriggerAgain===========>"),t.run();break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTimesUpdated=function(e,t){var n=this;if(0==this._FreeTimes)this._FreeTimes=t;else if(this._FreeTimes<t){var o=t-this._FreeTimes;this._FreeTimes=t,this.freeGameAdd.active=!0,this.bigWin.clearTrack(0),this.bigWin.setAnimation(0,"refreespin",!1),this.winc_numStopRunFX.clearTrack(0),this.winc_numStopRunFX.setAnimation(0,"animation",!1),this.freeGameAddNumber.string="+"+o,o>0&&slot.SoundMger.instance.playEffect("Frequency",!1),this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Frequency_End",!1),n.freeGameAdd.active=!1,this.bigWin.clearTrack(0),this.winc_numStopRunFX.clearTrack(0)},1)}this.free_times_num.string=""+e,this.free_lastTime_tip.active=e<=1,this.free_time_node.active=e>1},t.prototype.onBonusGameTriggered=function(e,t){slot.Handler.create(this,function(){}),t.runWith(!0)},t.prototype.onBonusGameOver=function(e,t){t.runWith(!0)},t.prototype.showBounsGamePrefab=function(e,t){this.bounsGamePrefabNode=cc.instantiate(this.bounsGamePrefab);var n=cc.Canvas.instance.node;this.bounsGamePrefabNode.getComponent(cc.Widget).target=n,n.addChild(this.bounsGamePrefabNode,slot.LayerManage.effect),this.bounsGamePrefabNode.getComponent(r.default).onOpen(e,t)},t.prototype.hideBounsGamePrefab=function(){this.bounsGamePrefabNode&&(this.bounsGamePrefabNode.active=!1,cc.Canvas.instance.node.removeChild(this.bounsGamePrefabNode))},t.prototype.showFreeGameResultPrefab=function(e,t,n,o){this.freeGameResultNode=cc.instantiate(this.freeGameResultPrefab);var i=cc.Canvas.instance.node;this.freeGameResultNode.getComponent(cc.Widget).target=i,i.addChild(this.freeGameResultNode,slot.LayerManage.effect),this.freeGameResultNode.getComponent(s.default).onOpen(e,t,n,o)},t.prototype.hideFreeGameResultPrefab=function(){this.freeGameResultNode&&(this.freeGameResultNode.active=!1,cc.Canvas.instance.node.removeChild(this.freeGameResultNode))},t.prototype._onFreeGameStart1=function(e){this.bns_footer.active=e,this.ui_footer.active=!e,this.free_ui_footer.active=e,this.free_lastTime_tip.active=!1,slot.ScoreBase.instance.node.y=e?-650:-400;var t="#fffff";slot.GData.getParameter("main")&&slot.GData.getParameter("main").scoreColor&&!e&&(t=slot.GData.getParameter("main").scoreColor),slot.ScoreBase.instance.winScore.node.color=cc.Color.WHITE.fromHEX(t),slot.ScoreBase.instance.allScore.node.color=cc.Color.WHITE.fromHEX(t),slot.ScoreBase.instance.betScore&&(slot.ScoreBase.instance.betScore.node.color=cc.Color.WHITE.fromHEX(t)),slot.GameControlBase.instance.ctlBtn.active=!e,slot.GameControlBase.instance.node.opacity=e?0:255},t.prototype.showWinAniView=function(e,t,n,o,i,a){void 0===o&&(o=!0),void 0===i&&(i=!0),void 0===a&&(a=1),e==slot.WinAniType.Normal?n&&n.run():this.playWinAni(e,t,n)},a([E(cc.Node)],t.prototype,"roller",void 0),a([E(cc.Prefab)],t.prototype,"beishuNode",void 0),a([E(cc.Node)],t.prototype,"bns_footer",void 0),a([E(cc.Node)],t.prototype,"ui_footer",void 0),a([E(cc.Node)],t.prototype,"free_ui_footer",void 0),a([E(l.default)],t.prototype,"free_times_num",void 0),a([E(cc.Node)],t.prototype,"free_time_node",void 0),a([E(cc.Node)],t.prototype,"free_lastTime_tip",void 0),a([E(cc.Prefab)],t.prototype,"moveItemPre",void 0),a([E(sp.Skeleton)],t.prototype,"bgFX_topItems",void 0),a([E(sp.Skeleton)],t.prototype,"infoBar_light",void 0),a([E(cc.Node)],t.prototype,"infoBar_upLoop",void 0),a([E(sp.Skeleton)],t.prototype,"infoBar_bgElements",void 0),a([E(cc.Node)],t.prototype,"infoBar_spine",void 0),a([E(cc.Node)],t.prototype,"freeGameAdd",void 0),a([E(d.default)],t.prototype,"freeGameAddNumber",void 0),a([E(sp.Skeleton)],t.prototype,"bigWin",void 0),a([E(sp.Skeleton)],t.prototype,"winc_numStopRunFX",void 0),a([E(cc.Node)],t.prototype,"ib_bars",void 0),a([E(cc.Node)],t.prototype,"ib_bar_a",void 0),a([E(cc.Node)],t.prototype,"ib_bar_b",void 0),a([E(cc.Node)],t.prototype,"ib_bar_c",void 0),a([E(cc.Node)],t.prototype,"betBg",void 0),a([E(sp.Skeleton)],t.prototype,"betBgAni",void 0),a([E(cc.Node)],t.prototype,"info_7",void 0),a([E(d.default)],t.prototype,"WinScore",void 0),a([E(cc.Node)],t.prototype,"graphicsLineLayer",void 0),a([E(cc.Node)],t.prototype,"flyMulitBetAniLayer",void 0),a([E({type:cc.Prefab,tooltip:"\u5c0f\u6e38\u620f\u8fc7\u573a\u52a8\u753b"})],t.prototype,"bounsGamePrefab",void 0),a([E({type:cc.Prefab,tooltip:"\u514d\u8d39\u6e38\u620f\u7ed3\u7b97\u9884\u5236"})],t.prototype,"freeGameResultPrefab",void 0),n=a([v],t)}(slot.AbstractMainView);n.default=N,cc._RF.pop()},{"../GameEventName111000201":"GameEventName111000201","../NumAtlasLabel111000201":"NumAtlasLabel111000201","../bonusGame/BonusGame111000201":"BonusGame111000201","../freeGameResult/FreeGameResult":"FreeGameResult","../graphicsLine/WinGraphicsLine":"WinGraphicsLine","../main/CommonNumAtlas111000201":"CommonNumAtlas111000201","../main/Main111000201":"Main111000201","../roller/ItemAni111000201":"ItemAni111000201","../roller/ScrollerBack111000201":"ScrollerBack111000201","./scrollerSkins/GameLogic111000201":"GameLogic111000201","./scrollerSkins/JTChildManager111000201":"JTChildManager111000201","./scrollerSkins/JTLayerManager111000201":"JTLayerManager111000201"}],GameLogic111000201:[function(e,t,n){"use strict";cc._RF.push(t,"f9124YaU/RH9ajY+/9whajv","GameLogic111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,e("./JTLAniBefore")),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.adjustFlowOptions=function(){this.childOption(c.default,slot.JTTaskPriority.JTCOMMON_REWARD_TASK-1)},a([s],t)}(slot.JTLogicFactroy);n.default=l,cc._RF.pop()},{"./JTLAniBefore":"JTLAniBefore"}],GameRoller111000201:[function(e,t,n){"use strict";cc._RF.push(t,"abb6bi47QpMaoarOAE3uHhF","GameRoller111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111000201"),s=e("../main/CommonNumAtlas111000201"),c=e("./GameLayer111000201"),l=cc._decorator,p=l.ccclass,_=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_arrNodeCannon=[],t.p_nodeRole=null,t.p_nodeWin=null,t.p_nodeLayoutWin=null,t.p_nodeOwrWin=null,t.p_nodeCountWin=null,t.p_nodeWinNum=null,t.p_nodeScore=null,t.p_arrSocreFrame=[],t.m_scoreLevel=1,t.m_arrMultiple=[],t.m_isChufaFree=!1,t.allWin=0,t.spinAllWin=0,t.m_roleAniState=0,t.m_cannonIndex=0,t.accSub=function(e,t){var n,o,i;isNaN(e)&&(e=0),isNaN(t)&&(t=0),e=Number(e),t=Number(t);try{n=e.toString().split(".")[1].length}catch(a){n=0}try{o=t.toString().split(".")[1].length}catch(a){o=0}return i=Math.pow(10,Math.max(n,o)),Number(((e*i-t*i)/i).toFixed(n>=o?n:o))},t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_UPDATE_MULTIPLE,this._updateMultiple,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_UPDATE_MULTIPLE_NUM,this._updateMultipleNum,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_CONTINUE_REWARD,this._continueReward,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_CONTINUE_REWARD_END,this._continueRewardEnd,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_ROLE_ANI,this._eventPlayRoleAni,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,this._stopWinNum,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_WIN_NUM,this._updateWinNum,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_WIN_NUM1,this._updateWinNum1,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_SCORE_ANI,this._playRewardAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_START_ROLLING,this.startRolling,this),this.schedule(this._roleAniRound,12),this.resetWinNum()},t.prototype.startRolling=function(){this.resetWinNum()},t.prototype.resetWinNum=function(){this.spinAllWin=0,slot.FreeGameManager.instance.hasFreeGame||(this.allWin=0),this.p_nodeWinNum&&(this.p_nodeWinNum.getComponent(s.default).string="")},t.prototype._eventPlayRoleAni=function(e,t){switch(t){case r.RoleAniType.Random:this.m_roleAniState=1,this._roleAniRound();break;case r.RoleAniType.Multiplier:this._roleAniMultipleUpdate();break;case r.RoleAniType.WinMedium:this._roleAniWinMedium();break;case r.RoleAniType.WinSmall:this._roleAniWinSmall();break;case r.RoleAniType.FastSpinIdle:this._roleAniFastspinIdle()}},t.prototype._roleAniRound=function(){var e=this;if(0==this.m_roleAniState||1==this.m_roleAniState){this.m_roleAniState=1;var t="idle_0"+(Math.floor(2*Math.random())+1);this._playRoleAni(t,!1,function(){e.m_roleAniState=0},"idle_01",!0)}},t.prototype._roleAniMultipleUpdate=function(){var e=this;this.m_roleAniState=2,this._playRoleAniEffect(),this._playRoleAni("multiplier_up",!1,function(){e.m_roleAniState=0},"idle_01",!0)},t.prototype._roleAniWinMedium=function(){var e=this;this.m_roleAniState=3,this._playRoleAni("win_medium",!1,function(){e.m_roleAniState=0},"idle_01",!0)},t.prototype._roleAniWinSmall=function(){var e=this;this.m_roleAniState=4,this._playRoleAni("win_small",!1,function(){e.m_roleAniState=0},"idle_01",!0)},t.prototype._roleAniFastspinIdle=function(){this.m_roleAniState=5,this._playRoleAni("fastspin_idle",!0)},t.prototype._playRoleAni=function(e,t,n,o,i){var a=this;this.p_nodeRole.getComponent(sp.Skeleton).setAnimation(0,e,t),this.p_nodeRole.getComponent(sp.Skeleton).setCompleteListener(function(){a.p_nodeRole.getComponent(sp.Skeleton).animation==e&&(n&&n(),o&&a.p_nodeRole.getComponent(sp.Skeleton).setAnimation(0,o,i))})},t.prototype._updateMultiple=function(e,t,n){void 0===n&&(n=!1)},t.prototype._updateMultipleNum=function(e,t,n){void 0===n&&(n=!1)},t.prototype._setMultipleNum=function(e,t){void 0===t&&(t=!1);for(var n=function(n){var i=o.p_arrNodeCannon[n];0==t?i.getComponent("Cannon").setCommonNum(e[n]):(i.getComponent("Cannon").setArrCannonUp(!0),cc.tween(i).delay(.3+.1*n).call(function(){i.getComponent("Cannon").playCannonUp(e[n])}).start())},o=this,i=0;i<this.p_arrNodeCannon.length;i++)n(i)},t.prototype._playRoleAniEffect=function(){0==this.m_cannonIndex?(r.SOUND_NAME.Multiplier_Increase_Character_010,r.SOUND_NAME.Multiplier_Increase_Character_011,Math.floor(2*Math.random())):1==this.m_cannonIndex||this.m_cannonIndex},t.prototype._playRewardAniEffect=function(){0==this.m_cannonIndex||1==this.m_cannonIndex||this.m_cannonIndex},t.prototype._continueReward=function(e,t){this._roleAniMultipleUpdate(),cc.tween(this).delay(.5).call(function(){t&&t()}).start(),this._playRewardAniEffect(),this.m_cannonIndex<3&&(this.m_arrMultiple[this.m_cannonIndex]=0,this.m_arrMultiple[this.m_cannonIndex+1]=1)},t.prototype._continueRewardEnd=function(e,t){var n=this;this._roleAniWinSmall(),cc.tween(this).delay(.5).call(function(){0!=n.m_cannonIndex&&(n.m_arrMultiple=[1,0,0,0],n._updateMultiple("",n.m_arrMultiple))}).start(),cc.tween(this).delay(.5).call(function(){t&&t()}).start()},t.prototype._stopWinNum=function(){this.p_nodeWin.active=!1,this.p_nodeWinNum.getComponent(s.default).string=""},t.prototype.event_stop_slot_machine_immediately=function(){Number(slot.SpinManager.instance.rollingResult.spinResult.spinCoin)>0&&(this.p_nodeWin.active=!0)},t.prototype._playRewardAni=function(e,t){var n=this;(t!=this.m_scoreLevel&&t==slot.WinAniType.Normal||t>this.m_scoreLevel)&&(this.m_scoreLevel=t,this.m_scoreLevel==slot.WinAniType.Normal?this._updateNodeScoreFrame(this.m_scoreLevel):this.m_scoreLevel==slot.WinAniType.Small?(this._playWinSocre(),this._updateNodeScoreFrame(this.m_scoreLevel)):this.m_scoreLevel==slot.WinAniType.Middle?(this.p_nodeScore.getChildByName("infoBarGrow").active=!0,this.p_nodeScore.getChildByName("infoBarGrow").getComponent(sp.Skeleton).setAnimation(0,"animation",!1),this.p_nodeScore.getChildByName("infoBarGrow").getComponent(sp.Skeleton).setCompleteListener(function(){n._updateNodeScoreFrame(n.m_scoreLevel),n.p_nodeScore.getChildByName("infoBarGrow").active=!1})):this.m_scoreLevel==slot.WinAniType.Great&&this._updateNodeScoreFrame(this.m_scoreLevel))},t.prototype._updateNodeScoreFrame=function(e){this.m_scoreLevel=null!=e?e:this.m_scoreLevel,null!=e&&null!=this.p_arrSocreFrame[e-1]&&(this.p_nodeScore.getComponent(cc.Sprite).spriteFrame=this.p_arrSocreFrame[e-1])},t.prototype._updateWinNum=function(e,t,n,o){var i=this;this._playWinSocre(),this.p_nodeWin.active=!0,this.p_nodeOwrWin.active=!1,this.p_nodeWinNum.active=!0,c.default.instance.info_7.active=!1,this.p_nodeCountWin.active=!1,this.allWin=this.allWin+Number(t),this.spinAllWin+=t;var a=slot.SlotUtils.formatNumber(this.spinAllWin);console.warn("_updateWinNum====>",Number(t),Number(n),this.allWin);var l=slot.FreeGameManager.instance.hasFreeGame;slot.FreeGameManager.instance.isTreateFreeOver||game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.allWin,l,!1,!1),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_WIN_SCORE_ANI,{owrNumString:slot.SlotUtils.formatNumber(t),allWin:this.spinAllWin},function(){i.p_nodeWinNum.getComponent(s.default).string=a}),o&&o()},t.prototype._updateWinNum1=function(e,t,n,o){this._playWinSocre(),this.p_nodeWin.active=!0,this.p_nodeOwrWin.active=!1,this.p_nodeWinNum.active=!0,c.default.instance.info_7.active=!1,this.p_nodeCountWin.active=!1,this.allWin=slot.FreeGameManager.instance.hasFreeGame?slot.FreeGameManager.instance.freeGameInfo.sumSpinCoin:slot.SpinManager.instance.totalWin,console.warn("_updateWinNum1 owrNum====>",Number(t),Number(n),this.allWin);var i=slot.FreeGameManager.instance.hasFreeGame,a=this.allWin;slot.FreeGameManager.instance.isTreateNewFree&&(a=Number(n)),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,a,i,!1,!1),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP),this._playCountWinNum(n,o)},t.prototype._playWinSocre=function(){this.m_scoreLevel<slot.WinAniType.Small?this.p_nodeScore.getChildByName("infoBarWin").active=!1:this.m_scoreLevel>=slot.WinAniType.Small&&(this.p_nodeScore.getChildByName("infoBarWin").active=!0,this.p_nodeScore.getChildByName("infoBarWin").getComponent(sp.Skeleton).setAnimation(0,"animation",!1))},t.prototype._playCountWinNum=function(e,t){this.p_nodeOwrWin.active=!1,this.p_nodeWinNum.getComponent(s.default).string="",this.p_nodeWinNum.active=!0,c.default.instance.info_7.active=!1,this.p_nodeCountWin.active=!0,this._playWinSocre(),this.spinAllWin=0,slot.FreeGameManager.instance.hasFreeGame||(this.allWin=0),this.p_nodeWinNum.getComponent(s.default).string=slot.SlotUtils.formatNumber(e),slot.SoundMger.instance.playEffect("Cumulative_Sound",!1),cc.tween(this.p_nodeWinNum).delay(1).call(function(){t&&t()}).start()},t.prototype.playWinNumUpAnimation=function(e,t,n){console.log(e,t);var o,i=this.accSub(t,e);o=i>300?10:i>100?5:i>10?2.5:i>1?.25:.01;var a=cc.callFunc(function(){var t=e+o;e=t,n.getComponent(s.default).string=slot.SlotUtils.formatNumber(t)}),r=cc.callFunc(function(){e+o>=t&&(n.getComponent(s.default).string=slot.SlotUtils.formatNumber(t),n.stopAllActions())});n.runAction(cc.repeatForever(cc.sequence(a,r)))},t.prototype.accAdd=function(e,t){var n,o,i,a;isNaN(e)&&(e=0),isNaN(t)&&(t=0),e=Number(e),t=Number(t);try{n=e.toString().split(".")[1].length}catch(s){n=0}try{o=t.toString().split(".")[1].length}catch(s){o=0}if(a=Math.abs(n-o),i=Math.pow(10,Math.max(n,o)),a>0){var r=Math.pow(10,a);n>o?(e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""))*r):(e=Number(e.toString().replace(".",""))*r,t=Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/i},t.prototype.accMul=function(e,t){var n=0,o=e.toString(),i=t.toString();try{n+=o.split(".")[1].length}catch(a){}try{n+=i.split(".")[1].length}catch(a){}return Number(o.replace(".",""))*Number(i.replace(".",""))/Math.pow(10,n)},t.prototype.accDiv=function(e,t){var n=0,o=0;try{n=e.toString().split(".")[1].length}catch(i){}try{o=t.toString().split(".")[1].length}catch(i){}return Number(e.toString().replace(".",""))/Number(t.toString().replace(".",""))*Math.pow(10,o-n)},t.prototype._onFreeGameStart=function(){this.m_isChufaFree=!0,this.allWin=0,this.spinAllWin=0},t.prototype._onFreeGameOver=function(){this.m_isChufaFree=!1,this.allWin=0,this.spinAllWin=0},t.prototype.start=function(){},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_UPDATE_MULTIPLE,this._updateMultiple,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_UPDATE_MULTIPLE_NUM,this._updateMultipleNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_CONTINUE_REWARD,this._continueReward,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_CONTINUE_REWARD_END,this._continueRewardEnd,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_ROLE_ANI,this._eventPlayRoleAni,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,this._stopWinNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_WIN_NUM,this._updateWinNum,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_WIN_NUM1,this._updateWinNum1,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_SCORE_ANI,this._playRewardAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_START_ROLLING,this.startRolling,this)},a([_({type:[cc.Node]})],t.prototype,"p_arrNodeCannon",void 0),a([_(cc.Node)],t.prototype,"p_nodeRole",void 0),a([_(cc.Node)],t.prototype,"p_nodeWin",void 0),a([_(cc.Node)],t.prototype,"p_nodeLayoutWin",void 0),a([_(cc.Node)],t.prototype,"p_nodeOwrWin",void 0),a([_(cc.Node)],t.prototype,"p_nodeCountWin",void 0),a([_(cc.Node)],t.prototype,"p_nodeWinNum",void 0),a([_(cc.Node)],t.prototype,"p_nodeScore",void 0),a([_({type:[cc.SpriteFrame],tooltip:"\u5206\u6570node\u7684\u7cbe\u7075\u56fe\u96c6"})],t.prototype,"p_arrSocreFrame",void 0),a([p],t)}(slot.BaseView);n.default=h,cc._RF.pop()},{"../GameEventName111000201":"GameEventName111000201","../main/CommonNumAtlas111000201":"CommonNumAtlas111000201","./GameLayer111000201":"GameLayer111000201"}],ItemAni111000201:[function(e,t,n){"use strict";cc._RF.push(t,"c7653T+RohMiqgCrncTK+dg","ItemAni111000201"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../GameEventName111000201"),i=e("../main/CommonNumAtlas111000201"),a=e("./GameLayer111000201"),r=function(){function e(){this.playCount=0,this.betNodes=[],this.allbet=0,this.showBetNodes=[],this.isShowBet=!1,this.ItemPosInit=[cc.v2(-300,320),cc.v2(-300,190),cc.v2(-300,65),cc.v2(-300,-65),cc.v2(-300,-190),cc.v2(-300,-320),cc.v2(-180,320),cc.v2(-180,190),cc.v2(-180,65),cc.v2(-180,-65),cc.v2(-180,-190),cc.v2(-180,-320),cc.v2(-60,320),cc.v2(-60,190),cc.v2(-60,65),cc.v2(-60,-65),cc.v2(-60,-190),cc.v2(-60,-320),cc.v2(60,320),cc.v2(60,190),cc.v2(60,65),cc.v2(60,-65),cc.v2(60,-190),cc.v2(60,-320),cc.v2(180,320),cc.v2(180,190),cc.v2(180,65),cc.v2(180,-65),cc.v2(180,-190),cc.v2(180,-320),cc.v2(300,320),cc.v2(300,190),cc.v2(300,65),cc.v2(300,-65),cc.v2(300,-190),cc.v2(300,-320)],this.removePos=[],this.removeItems=[],this._gameData=null,this.lineItems=[],this.wildLine=2,this.allWildNode=[]}return Object.defineProperty(e,"instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e.prototype.loadAniLayer=function(e,t){var n=this,i=this;this.tempC=e,this.tempC.x+=360,this.tempC.y-=380,this._scroller=t,game.ResLoader.getInstance().loadRes("prefabs/slotMachine/ui_ani",cc.Prefab,function(e,t){e?console.log("\u52a0\u8f7d\u52a8\u753b\u5c42\u5931\u8d25"):(console.log("\u52a0\u8f7d\u52a8\u753b\u5c42\u6210\u529f"),n.AniLayer=cc.instantiate(t),i.tempC.addChild(n.AniLayer))},slot.GData.bundleName),game.ResLoader.getInstance().loadRes("prefabs/slotMachine/itemLine",cc.Prefab,function(e,t){e?console.log("\u52a0\u8f7d\u7ebf\u6761\u52a8\u753b\u6846\u5931\u8d25"):(console.log("\u52a0\u8f7d\u7ebf\u6761\u52a8\u753b\u6846\u6210\u529f"),n.itemLine=t)},slot.GData.bundleName),game.ResLoader.getInstance().loadRes("textures/bonusGame/line02",cc.SpriteFrame,function(e,t){e?console.log("\u52a0\u8f7dline02\u5931\u8d25"):(console.log("\u52a0\u8f7dline02\u6210\u529f"),n.LineSpriteFrame=t)},slot.GData.bundleName),game.ResLoader.getInstance().loadRes("prefabs/slotMachine/multipleNode",cc.Prefab,function(e,t){e?console.log("\u52a0\u8f7dbet\u5931\u8d25"):(console.log("\u52a0\u8f7dbet\u6210\u529f"),n.beishuNode=t)},slot.GData.bundleName),game.EventManager.getInstance().addEventListener(o.EventName.EVENT_PLAY_DOWN_ANI,this._onDownAni,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this._onShowBets,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this._onHideBets,this),game.EventManager.getInstance().addEventListener(o.EventName.EVENT_SCROLL_FOR_FREE,this._onScrollForFree,this),game.EventManager.getInstance().addEventListener(o.EventName.EVENT_START_FRAME_ANI,this._onHideScrollForFree,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.MONEY_NOT_ENOUGH_BREAK,this._onPlayMoneyNotEnugh,this)},e.prototype._onShowBets=function(e,t,n,o,a,r){if(console.log("_onShowBets===>",e,t,n,o,a,r),this.showBetNodes&&this.showBetNodes.length>0)for(var s=0,c=this.showBetNodes;s<c.length;s++){var l=c[s];l&&l.removeFromParent&&l.removeFromParent()}if(t>=12){var p=this.showMultipleNode(t);this.starBetNode=cc.instantiate(this.beishuNode),this.starBetNode.x=a?this.starBetNode.x-60:this.starBetNode.x+60,r.addChild(this.starBetNode),this.showBetNodes[n]=this.starBetNode,this.starBetNode.getChildByName("multiple").getComponent(i.default).string="x"+p}},e.prototype._onHideBets=function(){if(this.showBetNodes&&this.showBetNodes.length>0)for(var e=0,t=this.showBetNodes;e<t.length;e++){var n=t[e];n&&n.removeFromParent&&n.removeFromParent()}},e.prototype._onRollingResp=function(){this.isShowBet=!1,this.wildLine=2,this._onHideScrollForFree();for(var e=0;e<this.AniLayer.children.length;e++){var t=this.AniLayer.children[e];t.scale=.6,t.removeAllChildren()}},e.prototype._onDownAni=function(e,t,n){if(n)this.playCount=0;else{if(t.isShowLine)return this.removePos=t.resultList[this.playCount].removePos,void(this.removeItems=t.resultList[this.playCount].spinResult.grid);if(t.resultList&&t.resultList[this.playCount]&&t.resultList[this.playCount].removePos){this.removePos=t.resultList[this.playCount].removePos,this.removeItems=t.resultList[this.playCount].spinResult.grid,this.playCount+=1;for(var o=0,i=this.removePos;o<i.length;o++){var r=i[o],s=this.removeItems[r],c=0;switch(r){case 0:case 6:case 12:case 18:case 24:case 30:c=1;break;case 1:case 7:case 13:case 19:case 25:case 31:c=2;break;case 2:case 8:case 14:case 20:case 26:case 32:c=3;break;case 3:case 9:case 15:case 21:case 27:case 33:c=4;break;case 4:case 10:case 16:case 22:case 28:case 34:c=5;break;case 5:case 11:case 17:case 23:case 29:case 35:c=6}this.showAni(r,s,c)}a.default.instance.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Bei_Sshuzhongj",!1)},1)}}},e.prototype.showAni=function(e,t,n){var o;o=e<10?"0"+e:""+e;var i=this.AniLayer.getChildByName("Node"+o);if(null!=i&&null!=i){var a="";switch(t){case 1:a="longxia/longxiatuandieluo";break;case 2:a="daroutui/daroutuituandieluo";break;case 3:a="niunai/niunaituandieluo";break;case 4:a="mianbao/mianbaotuandieluo";break;case 5:a="nailao/nailaotuandieluo";break;case 6:a="xiangjiao/xiangjiaotuandieluo";break;case 7:a="pingguo/pingguodieluodonghua";break;case 8:a="putao/putaotuandieluo";break;case 9:a="yangcong/yangcongtuandieluo";break;case 10:a="jidan/jidantuandieluo"}this.AniSk(i,"animations/cardPlist/"+a,e,n)}else console.log("indexS",o)},e.prototype.AniSk=function(e,t,n){var i=this;if(null!=t&&"animations/cardPlist/"!=t&&null!=t){var a=e.addComponent(slot.AnimationExtend),r=new slot.AniParam(slot.ANIMATION_TYPE.SPRITE_FRAMES_CLIP,t,"game_111000201","animation");a.init(r);var s,c=e.x;300==e.x?c=180:-300==e.x&&(c=-180),s=e.y+22,e.setScale(1.2),cc.tween(e).to(.33,{y:s}).call(function(){game.EventManager.getInstance().raiseEvent(o.EventName.EVENT_RESET_SC_BG),a.play("animation",!1)}).delay(.16).to(.6,{x:c,y:-450}).call(function(){e.removeComponent(cc.Sprite),e.removeComponent(cc.Animation),e.setPosition(i.ItemPosInit[n])}).start()}},e.prototype.setLine=function(){if(this.lineItems.length>0)for(var e=0;e<this.lineItems.length;e++)this.lineItems[e].removeFromParent&&this.lineItems[e].removeFromParent();for(var t=0,n=this.removePos;t<n.length;t++){var o,i=(e=n[t])+1;o=i<10?"0"+i:""+i;var a=this.AniLayer.getChildByName("Node0"+o),r=e+6,s=e-6,c=e-1,l=e+1,p=cc.instantiate(this.itemLine);a.addChild(p),a.scale=1.1,this.lineItems.push(p),this.removePos.includes(r)&&(p.getChildByName("lineright").active=!1,p.getChildByName("rightDown").active=!1,p.getChildByName("rightTop").active=!1,p.getChildByName("linetop").x=26.5,p.getChildByName("linetop").height=69,p.getChildByName("linedown").x=28,p.getChildByName("linedown").height=66),this.removePos.includes(s)&&(p.getChildByName("lineleft").active=!1,p.getChildByName("leftDown").active=!1,p.getChildByName("leftTop").active=!1,p.getChildByName("linetop").x=-27.5,p.getChildByName("linetop").height=67,p.getChildByName("linedown").x=-25.5,p.getChildByName("linedown").height=70),this.removePos.includes(c)&&(0==e||6==e||12==e||18==e||24==e||30==e?p.getChildByName("linetop").active=!0:(p.getChildByName("linetop").active=!1,p.getChildByName("rightTop").active=!1,p.getChildByName("leftTop").active=!1,p.getChildByName("lineleft").y=27,p.getChildByName("lineleft").height=69,p.getChildByName("lineright").y=28.5,p.getChildByName("lineright").height=67)),this.removePos.includes(l)&&(5==e||11==e||17==e||23==e||29==e||35==e?p.getChildByName("linedown").active=!0:(p.getChildByName("linedown").active=!1,p.getChildByName("rightDown").active=!1,p.getChildByName("leftDown").active=!1,p.getChildByName("lineleft").y=-26,p.getChildByName("lineleft").height=67,p.getChildByName("lineright").y=-24.5,p.getChildByName("lineright").height=69)),this.removePos.includes(r)&&this.removePos.includes(s)&&(p.getChildByName("linetop").x=.5,p.getChildByName("linetop").height=121,p.getChildByName("linedown").x=.812,p.getChildByName("linedown").height=121),this.removePos.includes(c)&&this.removePos.includes(l)&&(p.getChildByName("lineleft").y=1,p.getChildByName("lineleft").height=121,p.getChildByName("lineright").y=1.5,p.getChildByName("lineright").height=121)}},e.prototype.removeLine=function(){if(this.lineItems.length>0)for(var e=0;e<this.lineItems.length;e++)this.lineItems[e].removeFromParent&&this.lineItems[e].removeFromParent()},e.prototype.getdirectionS=function(e,t){t&&(this.removePos=t);for(var n=[],o=(n=[],e+6),i=e-6,a=e+1,r=e+1,s=e+5,c=e+7,l=e-7,p=e-5,_=0;_<8;_++)n[_]=!0;return this.removePos.includes(i)||(n[0]=!1),this.removePos.includes(a)||(n[1]=!1),this.removePos.includes(o)&&(n[2]=!1),this.removePos.includes(r)||(n[3]=!1),this.removePos.includes(s)||(n[4]=!1),this.removePos.includes(c)||(n[5]=!1),this.removePos.includes(l)||(n[6]=!1),this.removePos.includes(p)||(n[7]=!1),n},e.prototype.playBetsAnimation=function(){var e=this;if(a.default.instance.isShowBetAni=!0,null!=a.default.instance._gameData&&null!=a.default.instance._gameData.spinResult)if(a.default.instance._gameData.spinResult.spinCoin<=0)game.EventManager.getInstance().raiseEvent(o.EventName.EVENT_BETNUM_ANI,0);else{var t=this,n=[],r=[];this.allbet=0;for(var s=0;s<a.default.instance._gameData.spinResult.gridChanged.length;s++)a.default.instance._gameData.spinResult.gridChanged[s]>=12&&n.push(s);for(var c=slot.SlotMachineView._instance.scroller.renders.length,l=0;l<c;l++){var p=slot.SlotMachineView._instance.scroller.renders[l].data;p>=12&&r.push(p)}slot.SoundMger.instance.playEffect("Icon_Appears",!1);var _,h,u,m,d=function(s){if(_=f.showMultipleNode(r[s]),f.allbet+=_,0!=_){h=n[s]+1,u=f.AniLayer.getChildByName("NodeBet"+h),(m=cc.instantiate(f.beishuNode)).name="betNode"+s,m.y=u.y+15,m.x=u.x-3,f.betNodes.push(m),f.AniLayer.addChild(m);var c=f.AniLayer.convertToWorldSpaceAR(m.getPosition());a.default.instance.flyMulitBetAniLayer.parent=m;var l=a.default.instance.flyMulitBetAniLayer.convertToNodeSpaceAR(c);m.setPosition(l),f.isShowBet=!0,m.getChildByName("multiple").getComponent(i.default).string="x"+_,cc.tween(m).call(function(){game.EventManager.getInstance().raiseEvent(o.EventName.EVENT_BETNUM_ANI_AFTER,r[s])}).call(function(){m.getChildByName("iconWin_bgFX").getComponent(sp.Skeleton).setAnimation(0,"animation",!1)}).to(.3,{x:0,y:10}).to(.1,{x:0,y:0}).to(.1,{scale:2}).call(function(){for(var n in e.betNodes)Object.prototype.hasOwnProperty.call(e.betNodes,n)&&e.betNodes[n].removeFromParent(!0);0!=t.allbet&&(t.betNodeAll=cc.instantiate(e.beishuNode),t.betNodeAll.getChildByName("multiple").getComponent(i.default).string="x"+t.allbet,t.betNodeAll.scale=2,e.AniLayer.addChild(t.betNodeAll),cc.tween(t.betNodeAll).call(function(){slot.SoundMger.instance.playEffect("Icon_Glow",!1),t.betNodeAll.getChildByName("iconWin_topFX").active=!0,t.betNodeAll.getChildByName("iconWin_topFX").getComponent(sp.Skeleton).setAnimation(0,"animation",!1)}).delay(.3).to(.5,{y:-550,opacity:100}).call(function(){slot.SoundMger.instance.playEffect("Get_Bigger_Middle",!1),a.default.instance.showIbBarAni()}).call(function(){game.EventManager.getInstance().raiseEvent(o.EventName.EVENT_BETNUM_ANI,t.allbet)}).to(.2,{scale:4}).call(function(){t.betNodeAll.removeFromParent()}).start())}).start()}},f=this;for(s=0;s<n.length;s++)d(s)}},e.prototype.showMultipleNode=function(e){var t=0;switch(e){case 12:t=2;break;case 13:t=3;break;case 14:t=4;break;case 15:t=5;break;case 16:t=6;break;case 17:t=7;break;case 18:t=8;break;case 19:t=12;break;case 20:t=13;break;case 21:t=15;break;case 22:t=17;break;case 23:t=20;break;case 24:t=22;break;case 25:t=24;break;case 26:t=25;break;case 27:t=29;break;case 28:t=30;break;case 29:t=34;break;case 30:t=37;break;case 31:t=40;break;case 32:t=42;break;case 33:t=48;break;case 34:t=50}return console.log("\u83b7\u53d6\u661f\u661f\u4e0a\u5c42\u6570\u636e\u8282\u70b9",t),t},e.prototype._onHideScrollForFree=function(){if(this.allWildNode&&this.allWildNode.length>0){for(var e=0;e<this.allWildNode.length;e++){var t=this.allWildNode[e];t.scale=.6,t.removeAllChildren()}this.allWildNode=[]}},e.prototype._onPlayMoneyNotEnugh=function(){this._onHideScrollForFree()},e.prototype._onScrollForFree=function(e,t){if(console.log(e,t),a.default.instance._gameData&&a.default.instance._gameData.spinResult&&a.default.instance._gameData.spinResult.grid){for(var n=[],o=0;o<a.default.instance._gameData.spinResult.grid.length;o++)11==a.default.instance._gameData.spinResult.grid[o]&&n.push(o);for(o=0;o<this.wildLine;o++)n[o]+1<6*(t+1)&&n[o]+1>6*t?this.showWildAni(n[o]+1):n[o]+1<6*(t+1)&&this.showWildAni(n[o]+1);this.wildLine++}},e.prototype.showWildAni=function(e){console.log("showWildAni",e);var t;t=e<10?"00"+e:"0"+e;var n=this.AniLayer.getChildByName("Node"+t);null!=n&&null!=n?(this.allWildNode.push(n),"zh"==slot.GData.curLanguage?this.AniSk2(n,"skeleton/card/s_scatter_atlas_specials_zh/s_scatter_atlas_specials"):this.AniSk2(n,"skeleton/card/s_scatter_atlas_specials_en/s_scatter_atlas_specials")):console.log("indexS",t)},e.prototype.AniSk2=function(e,t){var n=new cc.Node,o=n.addComponent(slot.AnimationExtend),i=new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/wildBg/scatter_bgFX",slot.GData.bundleName,"normal");o.init(i),o.play("normal",!0);var a=new cc.Node,r=a.addComponent(slot.AnimationExtend),s=new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,t,slot.GData.bundleName,"win");r.init(s),r.play("win",!1),a.scale=1.15,n.addChild(a),e.addChild(n)},e}();n.default=r,cc._RF.pop()},{"../GameEventName111000201":"GameEventName111000201","../main/CommonNumAtlas111000201":"CommonNumAtlas111000201","./GameLayer111000201":"GameLayer111000201"}],JTChildManager111000201:[function(e,t,n){"use strict";cc._RF.push(t,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../SpinSlotViewExtend111000201"),r=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,a.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},t.prototype.changedLine=function(t,n){e.prototype.changedLine.call(this,t,n)},t}(slot.JTChildFactory);n.default=r,cc._RF.pop()},{"../SpinSlotViewExtend111000201":"SpinSlotViewExtend111000201"}],JTLAniBefore:[function(e,t,n){"use strict";cc._RF.push(t,"8baa6Est4lJ8q++GvzW9Mha","JTLAniBefore");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../GameEventName111000201"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.runningTask=function(){e.prototype.runningTask.call(this),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_WIN_ANI,{jt:this})},t.prototype.complete=function(){e.prototype.complete.call(this)},a([c],t)}(slot.JTParseTask));n.default=l,cc._RF.pop()},{"../../GameEventName111000201":"GameEventName111000201"}],JTLayerManager111000201:[function(e,t,n){"use strict";cc._RF.push(t,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameLayer111000201"),r=e("../ItemAni111000201"),s=e("../ScrollerBack111000201"),c=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.initialize=function(e){var n=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,e);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,n),this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e);var o=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e);var i=this.addChildNode(t.FRAME_SCROLLERBACK_CONTAINER,e);s.default.instance.loadBack(i,e);var c=this.addChildNode(t.FRAME_GRAPHICSLINE_CONTAINER,e);a.default.instance.graphicsLineLayer.removeFromParent(),c.addChild(a.default.instance.graphicsLineLayer),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,e);var l=this.addChildNode(t.FRAME_ANILAYER_CONTAINER,e);r.default.instance.loadAniLayer(l,e),this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e),n.launch(e);var p=3*e.config.getWidth(),_=3*e.config.getHeight();o.setup(p,_,160),o.x=o.x-100,o.y=o.y+1500},t.prototype.updateLayer=function(){},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortContainer),this.registerClass(t.FRAME_ANILAYER_CONTAINER,slot.JTLayerSortContainer),this.registerClass(t.FRAME_SCROLLERBACK_CONTAINER,slot.JTLayerSortContainer),this.registerClass(t.FRAME_GRAPHICSLINE_CONTAINER,slot.JTGComponent),this},t.FRAME_ANILAYER_CONTAINER=999,t.FRAME_SCROLLERBACK_CONTAINER=998,t.FRAME_ANIBGLAYER_CONTAINER=997,t.FRAME_GRAPHICSLINE_CONTAINER=1666,t}(slot.JTLayerFactory);n.default=c,cc._RF.pop()},{"../GameLayer111000201":"GameLayer111000201","../ItemAni111000201":"ItemAni111000201","../ScrollerBack111000201":"ScrollerBack111000201"}],LanguageInfo111000201:[function(e,t,n){"use strict";cc._RF.push(t,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},a([s],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],Main111000201:[function(e,t,n){"use strict";cc._RF.push(t,"57d00zdnbpIl73C/PZZzTrK","Main111000201");var o,i,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var s,c=e("../roller/WinAnimation111000201"),l=cc._decorator,p=l.ccclass,_=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"),game.BaseUIConf.getInstance().mergeUIConf(n.UICF);var t=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(t)},t.prototype.getWinAniManagerClass=function(){return c.default},r([p],t)}(slot.MainView));n.default=_,function(e){e[e.BONUS_GAME_POPUP=210101]="BONUS_GAME_POPUP",e[e.FREE_GAME_RESULT=210102]="FREE_GAME_RESULT"}(s=n.UIID||(n.UIID={})),n.UICF=((i={})[s.BONUS_GAME_POPUP]={bundleName:"game_111000201",path:"prefabs/bonusGame/bonusGame",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i[s.FREE_GAME_RESULT]={bundleName:"game_111000201",path:"prefabs/freeGameResult/freeGameResult",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i),cc._RF.pop()},{"../roller/WinAnimation111000201":"WinAnimation111000201"}],MoveItem111000201:[function(e,t,n){"use strict";cc._RF.push(t,"030f6xjBvZIprG1E0ZUhjfE","MoveItem111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){},t.prototype.moverItem=function(){var e=this;cc.tween(this.node).to(.5,{position:new cc.Vec3(0,-360)}).call(function(){e.node.destroy()}).start()},a([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],MultipleNode:[function(e,t,n){"use strict";cc._RF.push(t,"da17fm9l1ZCpJ6vpw+KSpgS","MultipleNode");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return i(t,e),t.prototype.start=function(){},a([c(cc.Label)],t.prototype,"label",void 0),a([c],t.prototype,"text",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],NumAtlasLabel111000201:[function(e,t,n){"use strict";cc._RF.push(t,"0452atpXL1HG41C7ZUyJq7w","NumAtlasLabel111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],ParticleSpriteFramesRefresh:[function(e,t,n){"use strict";cc._RF.push(t,"72fefbXFEBGNo8yGLfUpfy/","ParticleSpriteFramesRefresh");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.ps=null,t.index=0,t.count=0,t.spriteArray=[],t}return i(t,e),t.prototype.onLoad=function(){this.ps||(this.ps=this.node.getComponent(cc.ParticleSystem)),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length,this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.refreshSprite=function(){this.index>=this.count&&(this.index=0),this.ps.spriteFrame=this.spriteArray[this.index],this.index++},a([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),a([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],PlayInformation111000201:[function(e,t,n){"use strict";cc._RF.push(t,"cda63c5lERIa4Vl5rrSIRGC","PlayInformation111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){},a([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],PlayInformation:[function(e,t,n){"use strict";cc._RF.push(t,"6d845RIrctNuJR1Bwva/Wq4","PlayInformation");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return i(t,e),t.prototype.start=function(){},a([c(cc.Label)],t.prototype,"label",void 0),a([c],t.prototype,"text",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],ScrollerBack111000201:[function(e,t,n){"use strict";cc._RF.push(t,"6029fRc3q5DBrMqBOUahDpY","ScrollerBack111000201"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e.prototype.loadBack=function(e,t){var n=this,o=this;this.tempC=e,this.tempC.x+=325,this.tempC.y-=210,this._scroller=t,game.ResLoader.getInstance().loadRes("prefabs/slotMachine/scollerBg",cc.Prefab,function(e,t){e?console.log("\u52a0\u8f7d\u80cc\u666f\u5931\u8d25"):(console.log("\u52a0\u8f7d\u80cc\u666f\u6210\u529f"),o.ScrollerBackNode=cc.instantiate(t),o.hideBack(),o.tempC.addChild(n.ScrollerBackNode))},slot.GData.bundleName)},e.prototype.showBack=function(){this.ScrollerBackNode&&(this.ScrollerBackNode.active=!0)},e.prototype.hideBack=function(){this.ScrollerBackNode&&(this.ScrollerBackNode.active=!1)},e}();n.default=o,cc._RF.pop()},{}],SpinSlotViewExtend111000201:[function(e,t,n){"use strict";cc._RF.push(t,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameEventName111000201"),r=e("../main/CommonNumAtlas111000201"),s=e("../roller/ItemAni111000201"),c=e("./GameLayer111000201"),l=function(e){function t(){var t=e.call(this)||this;return t.t=null,t._slotFrameAniView=null,t._slotFrameAniViewSign="___SLOT_FRAME_ANI_VIEW_SIGN",t._slotFrameAniView_spin3=null,t._slotFrameAniView_spin1=null,t._slotFrameAniView_spin4=null,t._slotFrameAniView_spin2=null,t.isBlur=!0,t.isFade=!1,t.isFadeMask=!1,game.EventManager.getInstance().addEventListener(a.EventName.EVENT_PLAY_DOWN_ANI,t._onDrawLine,t),game.EventManager.getInstance().addEventListener(a.EventName.EVENT_BETNUM_ANI_AFTER,t._onBetAniAfter,t),t}return i(t,e),t.prototype.onPlayAnimation=function(e,t,n,o){console.log("onPlayAnimation",e,t,n,o),slot.SoundMger.instance.playEffect("Light_Up",!1),this.data<11?this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn"):(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win"),this._recoverFrameViewNode4())},t.prototype.onStopAnimation=function(){this._recoverSlotFrameAniView(),this.data>=12&&this._recoverFrameViewNode4()},t.prototype.onRollEnd=function(){this.data>=12&&this._recoverFrameViewNode4()},t.prototype.onNewElemDropEnd=function(){11==this.data&&slot.SoundMger.instance.playEffect("Sctter_01",!1)},t.prototype.onDropEnd=function(){if(slot.SoundMger.instance.stopEffect("Winning_sound_effects_02"),this._slotFrameAniView_spin1&&(this._slotFrameAniView_spin1.removeFromParent(),this._slotFrameAniView_spin1.active=!1,this._slotFrameAniView_spin1=null),11==this.data&&(this._slotFrameAniView_spin3&&this._recoverSlotFrameAniViewSpin3(),this._showFrameAniViewSpin3(),this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle")),this.data>=12){var e=0;switch(this.data){case 12:e=2;break;case 13:e=3;break;case 14:e=4;break;case 15:e=5;break;case 16:e=6;break;case 17:e=7;break;case 18:e=8;break;case 19:e=12;break;case 20:e=13;break;case 21:e=15;break;case 22:e=17;break;case 23:e=20;break;case 24:e=22;break;case 25:e=24;break;case 26:e=25;break;case 27:e=29;break;case 28:e=30;break;case 29:e=34;break;case 30:e=37;break;case 31:e=40;break;case 32:e=42;break;case 33:e=48;break;case 34:e=50}console.log("onDropEnd===>",this.data),this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle");var t=cc.instantiate(c.default.instance.multiplePrefab);t.getChildByName("multiple").getComponent(r.default).string="x"+e,c.default.instance.isShowBetAni&&(this.data>=16?t.scale=.8:t.scale=1.2,t.opacity=160),this._showFrameViewNode(t),this._recoverFrameViewNode4()}},t.prototype.gotoAndStop=function(t){if(e.prototype.gotoAndStop.call(this,t),this.data>11){if(this._slotFrameAniView_spin1)this._slotFrameAniView_spin1.active=!0;else{var n=cc.instantiate(c.default.instance.multiplePrefab),o=0;switch(this.data){case 12:o=2;break;case 13:o=3;break;case 14:o=4;break;case 15:o=5;break;case 16:o=6;break;case 17:o=7;break;case 18:o=8;break;case 19:o=12;break;case 20:o=13;break;case 21:o=15;break;case 22:o=17;break;case 23:o=20;break;case 24:o=22;break;case 25:o=24;break;case 26:o=25;break;case 27:o=29;break;case 28:o=30;break;case 29:o=34;break;case 30:o=37;break;case 31:o=40;break;case 32:o=42;break;case 33:o=48;break;case 34:o=50}n.getChildByName("multiple").getComponent(r.default).string="x"+o,this._showFrameViewNode(n)}if(this._slotFrameAniView_spin4)this._slotFrameAniView_spin4.active=!0;else if(1==t){var i=cc.instantiate(c.default.instance.starLight);this._showFrameViewNode4(i)}}else this._slotFrameAniView_spin1&&(this._slotFrameAniView_spin1.active=!1,this._slotFrameAniView_spin1.removeFromParent(),this._slotFrameAniView_spin1=null),this._slotFrameAniView_spin4&&(this._slotFrameAniView_spin4.active=!1,this._slotFrameAniView_spin4.removeFromParent(),this._slotFrameAniView_spin4=null)},t.prototype.onPlayRewardsAnimation=function(e,t,n,o){console.log("-----------",e,"-----",t,"-----",n,"-----",o)},t.prototype.onStopRewardsAnimation=function(){t._rewardsView&&t._rewardsView.removeFromParent()},t.prototype.addEffectElement=function(){console.log("addEffectElement"),this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win")},t.prototype._onDrawLine=function(){},t.prototype._onBetAniAfter=function(){this.data>=12&&(this._recoverFrameViewNode4(),this._slotFrameAniView_spin1&&(this.data>=16?this._slotFrameAniView_spin1.scale=.8:this._slotFrameAniView_spin1.scale=1.2,this._slotFrameAniView_spin1.opacity=160))},t.prototype._showFrameAniView=function(e,t){game.EventManager.getInstance().raiseEvent(a.EventName.EVENT_START_FRAME_ANI),this._slotFrameAniView||(this._slotFrameAniView=this._getSlotFrameAniView(t)),this._slotFrameAniView.active=!0,this._slotFrameAniView.getComponent(sp.Skeleton).premultipliedAlpha=!1,e.addEffect(this._slotFrameAniView,t,!0);var n=e.getPosByIndex(t);this._slotFrameAniView.y=n.y},t.prototype._getSlotFrameAniView=function(e){var t=this;if(this._slotFrameAniView)return this._slotFrameAniView;this._slotFrameAniView=new cc.Node;var n=new cc.Node;this._slotFrameAniView.addChild(n),s.default.instance.getdirectionS(e,this.removePos);var o=this._slotFrameAniView.addComponent(slot.AnimationExtend),i=new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/iconWin/iconWin_topFX",slot.GData.bundleName,"animation"),a=n.addComponent(slot.AnimationExtend),r=new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/iconWin/iconWin_bgFX",slot.GData.bundleName,"animation"),c=slot.Handler.create(this,function(){t._recoverSlotFrameAniView()});return o.init(i),o.play("animation",!1),a.init(r),a.play("animation",!1,c),this._slotFrameAniView},t.prototype._recoverSlotFrameAniView=function(){this._slotFrameAniView&&(this._slotFrameAniView.removeFromParent(),this._slotFrameAniView=null,this._slotFrameAniView_spin1&&(this._slotFrameAniView_spin1.scale=1,this._slotFrameAniView_spin1.opacity=255))},t.prototype._showFrameAniViewSpin3=function(){this._slotFrameAniView_spin3||(this._slotFrameAniView_spin3=this._getSlotFrameAniViewSpin3()),this._slotFrameAniView_spin3.scaleX=.7,this._slotFrameAniView_spin3.active=!0,this.addEffectNode(this._slotFrameAniView_spin3,!1)},t.prototype._getSlotFrameAniViewSpin3=function(){if(this._slotFrameAniView_spin3)return this._slotFrameAniView_spin3;this._slotFrameAniView_spin3=new cc.Node;var e=this._slotFrameAniView_spin3.addComponent(slot.AnimationExtend),t=new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/wildBg/scatter_bgFX","game_111000201","normal");return e.init(t),e.play("normal",!0),this._slotFrameAniView_spin3},t.prototype._recoverSlotFrameAniViewSpin3=function(){this._slotFrameAniView_spin3&&(this._slotFrameAniView_spin3.removeFromParent(),this._slotFrameAniView_spin3.active=!1,this._slotFrameAniView_spin3=null)},t.prototype._showFrameViewNode=function(e){this._slotFrameAniView_spin1&&(this._slotFrameAniView_spin1.removeFromParent(),this._slotFrameAniView_spin1.active=!1,this._slotFrameAniView_spin1=null),this._slotFrameAniView_spin1=e,this.addEffectNode(this._slotFrameAniView_spin1,!0)},t.prototype._recoverFrameViewNode=function(){this._slotFrameAniView_spin1&&(this._slotFrameAniView_spin1.removeFromParent(),this._slotFrameAniView_spin1.active=!1,this._slotFrameAniView_spin1=null)},t.prototype._showFrameViewNode4=function(e){this._slotFrameAniView_spin4&&(this._slotFrameAniView_spin4.removeFromParent(),this._slotFrameAniView_spin4.active=!1,this._slotFrameAniView_spin4=null),this._slotFrameAniView_spin4=e,this.addEffectNode(this._slotFrameAniView_spin4,!0)},t.prototype._recoverFrameViewNode4=function(){this._slotFrameAniView_spin4&&(this._slotFrameAniView_spin4.removeFromParent(),this._slotFrameAniView_spin4.active=!1,this._slotFrameAniView_spin4=null)},t.prototype._showFrameAniView2=function(e,t,n,o){this._slotFrameAniView_spin2||(this._slotFrameAniView_spin2=this._getSlotFrameAniView2(n,o)),this._slotFrameAniView_spin2.active=!0,e.addEffect(this._slotFrameAniView_spin2,t,!0);var i=e.getPosByIndex(t);this._slotFrameAniView_spin2.y=i.y},t.prototype._getSlotFrameAniView2=function(e,t){var n=this;if(this._slotFrameAniView_spin2)return this._slotFrameAniView_spin2;this._slotFrameAniView_spin2=new cc.Node;var o=this._slotFrameAniView_spin2.addComponent(slot.AnimationExtend),i=new slot.AniParam(slot.ANIMATION_TYPE.SPRITE_FRAMES_CLIP,"textures/animUI/card"+t+"/"+e,slot.GData.bundleName,e);o.init(i);var a=slot.Handler.create(this,function(){n._recoverSlotFrameAniView2()});return o.play(e,!1,a),this._slotFrameAniView_spin2},t.prototype._recoverSlotFrameAniView2=function(){this._slotFrameAniView_spin2&&(this._slotFrameAniView_spin2.removeFromParent(),this._slotFrameAniView_spin2.active=!1,this._slotFrameAniView_spin2=null,slot.SpinManager.instance.rollingResult.spinResult.grid)},t._rewardsView=null,t}(slot.SpinSlotView);n.default=l,cc._RF.pop()},{"../GameEventName111000201":"GameEventName111000201","../main/CommonNumAtlas111000201":"CommonNumAtlas111000201","../roller/ItemAni111000201":"ItemAni111000201","./GameLayer111000201":"GameLayer111000201"}],WinAnimation111000201:[function(e,t,n){"use strict";cc._RF.push(t,"c02a9YGXhpEErRHhiAa2MZ6","WinAnimation111000201");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winNumOrgScale=1,t}return i(t,e),t.prototype.playWinStart=function(){this.winCoinLabel.node.scale=this.winNumOrgScale},t.prototype.updateCoinLabel=function(t){e.prototype.updateCoinLabel&&e.prototype.updateCoinLabel.call(this,t)},t.prototype.playWinTextFadeIn=function(e){var t=e.y,n=e.scale,o=cc.tween(e),i=t-100;return e.scale=.2,e.opacity=255,e.y=i,o.to(.2,{scale:n+.2,y:t}).to(.15,{scale:n-.1}).to(.15,{scale:n}).start(),o},t.prototype.playWinTextFadeOut=function(e){cc.tween(e).to(.2,{opacity:0,scale:.1}).call(function(){e.active=!1}).start()},t.prototype.onPlayFinalAnimation=function(){this.getWinTextNode().scale=1},t.prototype.onCoinIncreaseEnd=function(){cc.tween(this.winCoinLabel.node).to(.15,{scale:this.winNumOrgScale+.1}).start()},t.prototype.playFadeOut=function(t){e.prototype.playFadeOut&&e.prototype.playFadeOut.call(this,t)},a([s],t)}(slot.WinAniManager));n.default=c,cc._RF.pop()},{}],WinGraphicsLine:[function(e,t,n){"use strict";cc._RF.push(t,"12a02J+KqJFdqm17VQUVwiA","WinGraphicsLine");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r,s=cc._decorator,c=s.ccclass,l=s.property,p=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t};(function(e){e[e.UP=0]="UP",e[e.Down=1]="Down",e[e.RIGHT=2]="RIGHT",e[e.LEFT=3]="LEFT"})(r||(r={}));var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteMaterial=null,t.gridSize=new cc.Size(120,126),t.lineWidth=10,t.strokeColor=cc.Color.WHITE,t.roundRadius=20,t.colNum=6,t.rowNum=6,t.posMap=new Map,t.posMapInfo=new Map,t.paddingX=0,t.paddingY=0,t.allLinePos=[],t.removePos=[],t.graphicsNodes=[],t.graphicsLineArr=[],t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.instance=this},t.prototype.start=function(){},t.prototype.initData=function(e){this.clearGraphics(),this.graphicsLineArr=[],this.removePos=e.slice(),this.setPosMap(),this.graphicsRemovePosLine(this.removePos)},t.prototype.addGraphcsNode=function(e){var t=new cc.Node("graphicsLine_"+e);t.parent=this.node;var n=t.addComponent(cc.Graphics);return this.spriteMaterial&&n.setMaterial(0,this.spriteMaterial),n.lineWidth=this.lineWidth,n.strokeColor=this.strokeColor,n.lineCap=cc.Graphics.LineCap.ROUND,n.lineJoin=cc.Graphics.LineJoin.ROUND,this.graphicsNodes.push(t),n},t.prototype.clearGraphics=function(){this.graphicsNodes.forEach(function(e){var t=e.getComponent(cc.Graphics);t&&t.clear(),e.removeFromParent()}),this.graphicsNodes.length=0},t.prototype.graphicsRemovePosLine=function(e){e.length>0&&(this.removePos=e,this.setRemovePosLinePos(),this.filterLinePos(),this.getGraphicsLlinePoint(),this.graphicsLine())},t.prototype.setPosMap=function(){var e=0;this.posMap.clear(),this.posMapInfo.clear();for(var t=1;t<this.colNum+1;t++)for(var n=t*this.gridSize.width+t*this.paddingX-.5*this.gridSize.width,o=0;o<this.rowNum;o++){var i=-o*this.gridSize.height-o*this.paddingY-.5*this.gridSize.height,a=new p(Math.floor(n),Math.floor(i));this.posMap.set(e,a);var r=[new p(Math.floor(a.x-.5*this.gridSize.width),Math.floor(a.y+.5*this.gridSize.height)),new p(Math.floor(a.x+.5*this.gridSize.width),Math.floor(a.y+.5*this.gridSize.height)),new p(Math.floor(a.x+.5*this.gridSize.width),Math.floor(a.y-.5*this.gridSize.height)),new p(Math.floor(a.x-.5*this.gridSize.width),Math.floor(a.y-.5*this.gridSize.height))];this.posMapInfo.set(e,r),e++}},t.prototype.setRemovePosLinePos=function(){var e=[];this.allLinePos.length=0;for(var t=0;t<this.removePos.length;t++){var n=this.removePos[t],o=this.posMapInfo.get(n);e.push(o),this.getLinePos(o)}},t.prototype.getLinePos=function(e){for(var t=0;t<e.length;t++){var n,o=e[t];n=t+1<e.length?e[t+1]:e[0],this.allLinePos.push([o,n])}},t.prototype.filterLinePos=function(){for(var e=[],t=0;t<this.allLinePos.length;t++){for(var n=[],o=this.allLinePos[t],i=0;i<o.length;i++){var a=o[i];n.push(a.x,a.y)}n.sort(function(e,t){return e-t}),e.push(JSON.stringify(n))}for(var r=[],s=0;s<e.length;s++){var c=e[s],l=e.indexOf(c),p=e.lastIndexOf(c);l!=p&&(r.includes(l)||r.push(l),r.includes(p)||r.push(p))}this.allLinePos=this.allLinePos.filter(function(e,t){return!r.includes(t)})},t.prototype.getGraphicsLlinePoint=function(){var e=this;if(this.allLinePos.length>0){var t=[],n=[],o=this.allLinePos[0];n.push(0);var i=new p(o[0].x,o[0].y),a=new p(o[1].x,o[1].y);t.push(i),t.push(a);var r=function(o){for(var i=1;i<e.allLinePos.length;i++)if(!n.includes(i))for(var a=e.allLinePos[i],s=0;s<a.length;s++){var c=a[s];if(o.x==c.x&&o.y==c.y){var l=a[0==s?1:0];t.push(new p(l.x,l.y)),n.push(i),r(new p(l.x,l.y));break}}};r(a);var s=[];n.forEach(function(t){s.push(e.allLinePos[t])}),this.graphicsLineArr.push(JSON.parse(JSON.stringify(this.filterSamePointArr(t,s)))),this.allLinePos=this.allLinePos.filter(function(e,t){return!n.includes(t)}),this.getGraphicsLlinePoint()}},t.prototype.filterSamePointArr=function(e,t){var n=this;if(e&&t){var o=[],i=[],a=e[0];o.push(a);var s=-1,c=function(a){var l=new p(a.x,a.y+n.gridSize.height),_=new p(a.x+n.gridSize.width,a.y),h=new p(a.x,a.y-n.gridSize.height),u=new p(a.x-n.gridSize.width,a.y),m=[l,_,h,u];s==r.UP?m=[u,l,_,h]:s==r.LEFT&&(m=[h,u,l,_]);for(var d=0;d<m.length;d++){var f=m[d];if(n.isSameData(e,f)&&n.hasSameLine(t,[a,f])&&!n.hasSameLine(i,[a,f]))return o.push(f),i.push([a,f]),s=n.getLineDir([a,f]),void c(f)}};return c(a),o.length>1&&o.splice(i.length,1),o}},t.prototype.getLineDir=function(e){var t,n=e[1].x-e[0].x,o=e[1].y-e[0].y;return n>0?t=r.RIGHT:n<0?t=r.LEFT:o>0?t=r.UP:o<0&&(t=r.Down),t},t.prototype.isSameData=function(e,t){var n=!1;return e.forEach(function(e){if(e.x==t.x&&e.y==t.y)return n=!0}),n},t.prototype.hasSameLine=function(e,t){for(var n=0;n<e.length;n++){var o=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];t.push(o.x,o.y)}return t.sort(function(e,t){return e-t}),JSON.stringify(t)};if(o(e[n])===o(t))return!0}return!1},t.prototype.drawIrregularPolygon=function(e,t,n){var o=this,i=t;e.moveTo(i[0].x+n,i[0].y);for(var a=function(t,i,a){var r=new p(t.x,t.y),s=new p(i.x,i.y),c=new p(a.x,a.y);if(o.isPerpendicular(t,i,a)){var l=0,_=0;s.x-r.x>0?l=n:s.x-r.x<0&&(l=-n),s.y-r.y>0?_=-n:s.y-r.y<0&&(_=n);var h=new p(s.x-l,s.y+_);l=0,_=0,c.x-s.x>0?l=n:c.x-s.x<0&&(l=-n),c.y-s.y>0?_=-n:c.y-s.y<0&&(_=n);var u=new p(s.x+l,s.y-_);e.lineTo(h.x,h.y),e.bezierCurveTo(h.x,h.y,s.x,s.y,u.x,u.y)}else e.lineTo(i.x,i.y)},r=1;r<i.length;r++){var s=i[r];a(i[r-1],s,i[(r+1)%i.length])}a(i[i.length-1],i[0],i[1]),e.stroke()},t.prototype.isPerpendicular=function(e,t,n){var o=new p(t.x-e.x,t.y-e.y),i=new p(n.x-t.x,n.y-t.y);return o.x*i.x+o.y*i.y==0},t.prototype.graphicsLine=function(){for(var e=0;e<this.graphicsLineArr.length;e++){var t=this.addGraphcsNode(e),n=this.graphicsLineArr[e];this.drawIrregularPolygon(t,n,this.roundRadius)}},t.instance=null,a([l({type:cc.Material,tooltip:"\u753b\u7ebf\u6750\u8d28"})],t.prototype,"spriteMaterial",void 0),a([l({tooltip:"\u683c\u5b50\u5927\u5c0f"})],t.prototype,"gridSize",void 0),a([l({tooltip:"\u753b\u7ebf\u5bbd\u5ea6"})],t.prototype,"lineWidth",void 0),a([l({type:cc.Color,tooltip:"\u989c\u8272\u503c"})],t.prototype,"strokeColor",void 0),a([l({tooltip:"\u5706\u89d2\u5927\u5c0f"})],t.prototype,"roundRadius",void 0),a([l({tooltip:"\u683c\u5b50\u5217\u6570"})],t.prototype,"colNum",void 0),a([l({tooltip:"\u683c\u5b50\u884c\u6570"})],t.prototype,"rowNum",void 0),n=a([c],t)}(cc.Component);n.default=_,cc._RF.pop()},{}]},{},["Banner111000201","GameEventName111000201","NumAtlasLabel111000201","BonusGame111000201","FreeGameResult","GameBg111000201","WinGraphicsLine","CommonNumAtlas111000201","LanguageInfo111000201","Main111000201","MultipleNode","Adaptive111000201","GameLayer111000201","GameRoller111000201","ItemAni111000201","MoveItem111000201","PlayInformation","PlayInformation111000201","ScrollerBack111000201","SpinSlotViewExtend111000201","WinAnimation111000201","Cannon","GameLogic111000201","JTChildManager111000201","JTLAniBefore","JTLayerManager111000201","ParticleSpriteFramesRefresh"]);